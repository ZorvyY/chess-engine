!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("child_process"),require("path"),require("os"),require("events"),require("tty"),require("util"),require("fs"),require("net")):"function"==typeof define&&define.amd?define(["exports","child_process","path","os","events","tty","util","fs","net"],e):e(t.uci=t.uci||{},t.child_process,t.path,t.os,t.events,t.tty,t.util,t.fs,t.net)}(this,function(t,e,n,r,i,o,a,s,c){"use strict";function u(t){return t&&t.__esModule?t.default:t}function l(t,e){return e={exports:{}},t(e,e.exports),e.exports}function f(){try{var t=gs;return gs=null,t.apply(this,arguments)}catch(t){return ms.e=t,ms}}function p(t){return gs=t,f}function h(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function d(t){return"function"==typeof t||"object"==typeof t&&null!==t}function _(t){return h(t)?new Error(C(t)):t}function v(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i}function y(t,e,n){if(!vs.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function m(t,e,n){if(h(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return vs.defineProperty(t,e,r),t}function g(t){throw t}function b(t){try{if("function"==typeof t){var e=vs.names(t.prototype),n=vs.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=ks.test(t+"")&&vs.names(t).length>0;if(n||r||i)return!0}return!1}catch(t){return!1}}function w(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function j(t){return Cs.test(t)}function k(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r}function C(t){try{return t+""}catch(t){return"[no string representation]"}}function E(t){return null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function F(t){try{m(t,"isOperational",!0)}catch(t){}}function x(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0)}function O(t){return E(t)&&vs.propertyIsWritable(t,"stack")}function T(t){return{}.toString.call(t)}function P(t,e,n){for(var r=vs.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{vs.defineProperty(e,o,vs.getDescriptor(t,o))}catch(t){}}}function S(t,e){return Os?process.env[t]:e}function A(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}}function R(t,e){return t.bind(e)}function L(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+e],t[o+e]=void 0}function M(t){this._capacity=t,this._length=0,this._front=0}function N(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new Hs(16),this._normalQueue=new Hs(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=Vs}function I(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function D(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function B(t){this._normalQueue._pushOne(t),this._queueTick()}function U(t,e){function n(r){return this instanceof n?(Ks(this,"message","string"==typeof r?r:e),Ks(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return Xs(n,Error),n}function V(t){return this instanceof V?(Ks(this,"name","OperationalError"),Ks(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(Ks(this,"message",t.message),Ks(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new V(t)}function H(t){return t instanceof Error&&mc.getPrototypeOf(t)===Error.prototype}function z(t){var e;if(H(t)){e=new yc(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=mc.keys(t),r=0;r<n.length;++r){var i=n[r];gc.test(i)||(e[i]=t[i])}return e}return dc.markAsOriginatingFromRejection(t),t}function $(t,e){return function(n,r){if(null!==t){if(n){var i=z(_c(n));t._attachExtraTrace(i),t._reject(i)}else if(e){for(var o=arguments.length,a=new Array(Math.max(o-1,0)),s=1;s<o;++s)a[s-1]=arguments[s];t._fulfill(a)}else t._fulfill(r);t=null}}}function q(){try{Promise===Wc&&(Promise=Gc)}catch(t){}return Wc}function G(t){if(t=String(t),!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Zc;case"days":case"day":case"d":return n*Yc;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Jc;case"minutes":case"minute":case"mins":case"min":case"m":return n*Kc;case"seconds":case"second":case"secs":case"sec":case"s":return n*Xc;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function W(t){return t>=Yc?Math.round(t/Yc)+"d":t>=Jc?Math.round(t/Jc)+"h":t>=Kc?Math.round(t/Kc)+"m":t>=Xc?Math.round(t/Xc)+"s":t+"ms"}function Q(t){return X(t,Yc,"day")||X(t,Jc,"hour")||X(t,Kc,"minute")||X(t,Xc,"second")||t+" ms"}function X(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}function K(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}function J(t){var e="go",n=["searchmoves","ponder","wtime","btime","winc","binc","movestogo","depth","nodes","mate","movetime","infinite"];return n.forEach(function(n){if(t.hasOwnProperty(n))switch(n){case"searchmoves":t[n].length&&(e+=" searchmoves "+t[n].join(" "));break;case"ponder":case"infinite":t[n]&&(e+=" "+n);break;default:t[n]>=0&&(e+=" "+n+" "+t[n])}}),""+e}function Y(t){var e=Ku.call(t,Yu),n=t[Yu];try{t[Yu]=void 0;var r=!0}catch(t){}var i=Ju.call(t);return r&&(e?t[Yu]=n:delete t[Yu]),i}function Z(t){return el.call(t)}function tt(t){return null==t?void 0===t?sl:al:(t=Object(t),cl&&cl in t?il(t):ol(t))}function et(t){return null!=t&&"object"==typeof t}function nt(t){return"symbol"==typeof t||pl(t)&&fl(t)==hl}function rt(t,e){if(_l(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!vl(t))||(ml.test(t)||!yl.test(t)||null!=e&&t in Object(e))}function it(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ot(t){if(!jl(t))return!1;var e=wl(t);return e==Cl||e==El||e==kl||e==Fl}function at(t){return!!Al&&Al in t}function st(t){if(null!=t){try{return Ml.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ct(t){if(!Bl(t)||Dl(t))return!1;var e=Il(t)?Wl:Hl;return e.test(Ul(t))}function ut(t,e){return null==t?void 0:t[e]}function lt(t,e){var n=Jl(t,e);return Kl(n)?n:void 0}function ft(){this.__data__=nf?nf(null):{},this.size=0}function pt(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function ht(t){var e=this.__data__;if(af){var n=e[t];return n===sf?void 0:n}return uf.call(e,t)?e[t]:void 0}function dt(t){var e=this.__data__;return ff?void 0!==e[t]:hf.call(e,t)}function _t(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_f&&void 0===e?vf:e,this}function vt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function yt(){this.__data__=[],this.size=0}function mt(t,e){return t===e||t!==t&&e!==e}function gt(t,e){for(var n=t.length;n--;)if(Ff(t[n][0],e))return n;return-1}function bt(t){var e=this.__data__,n=Of(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Pf.call(e,n,1),--this.size,!0}function wt(t){var e=this.__data__,n=Af(e,t);return n<0?void 0:e[n][1]}function jt(t){return Lf(this.__data__,t)>-1}function kt(t,e){var n=this.__data__,r=Nf(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Ct(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Et(){this.size=0,this.__data__={hash:new Qf,map:new(Kf||Xf),string:new Qf}}function Ft(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function xt(t,e){var n=t.__data__;return Zf(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ot(t){var e=ep(this,t).delete(t);return this.size-=e?1:0,e}function Tt(t){return rp(this,t).get(t)}function Pt(t){return op(this,t).has(t)}function St(t,e){var n=sp(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function At(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rt(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(vp);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Rt.Cache||_p),n}function Lt(t){var e=mp(t,function(t){return n.size===gp&&n.clear(),t}),n=e.cache;return e}function Mt(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Nt(t){if("string"==typeof t)return t;if(Pp(t))return Tp(t,Nt)+"";if(Sp(t))return Lp?Lp.call(t):"";var e=t+"";return"0"==e&&1/t==-Ap?"-0":e}function It(t){return null==t?"":Np(t)}function Dt(t,e){return Dp(t)?t:Bp(t,e)?[t]:Up(Vp(t))}function Bt(t){if("string"==typeof t||zp(t))return t;var e=t+"";return"0"==e&&1/t==-$p?"-0":e}function Ut(t,e){e=Gp(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[Wp(e[n++])];return n&&n==r?t:void 0}function Vt(t,e,n){var r=null==t?void 0:Xp(t,e);return void 0===r?n:r}function Ht(t,e){var n=Kp(Jp.cmdType.exec(e),1);switch(n){case"bestmove":var r=zt(e);r.bestmove&&(t.bestmove=r.bestmove),r.ponder&&(t.ponder=r.ponder);break;case"info":var i=pe(e);i&&t.info.push(i)}return t}function zt(t){var e=Jp.bestmove.exec(t);if(e&&e[1]){var n={bestmove:e[1]};return e[2]&&(n.ponder=e[2]),n}}function $t(t){var e=Jp.id.exec(t);return e&&e[1]&&e[2]?th({},e[1],e[2]):null}function qt(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function Gt(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var c=a[t?s:++i];if(n(o[c],c,o)===!1)break}return e}}function Wt(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Qt(t){return ch(t)&&sh(t)==uh}function Xt(){return!1}function Kt(t,e){return e=null==e?bh:e,!!e&&("number"==typeof t||wh.test(t))&&t>-1&&t%1==0&&t<e}function Jt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=kh}function Yt(t){return xh(t)&&Fh(t.length)&&!!Yh[Eh(t)]}function Zt(t){return function(e){return t(e)}}function te(t,e){var n=ld(t),r=!n&&ud(t),i=!n&&!r&&fd(t),o=!n&&!r&&!i&&hd(t),a=n||r||i||o,s=a?cd(t.length,String):[],c=s.length;for(var u in t)!e&&!_d.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||pd(u,c))||s.push(u);return s}function ee(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||yd;return t===n}function ne(t,e){return function(n){return t(e(n))}}function re(t){if(!kd(t))return Cd(t);var e=[];for(var n in Object(t))Fd.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ie(t){return null!=t&&Td(t.length)&&!Od(t)}function oe(t){return Rd(t)?Sd(t):Ad(t)}function ae(t,e){return t&&Md(t,e,Nd)}function se(t,e){return function(n,r){if(null==n)return n;if(!Dd(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function ce(t){return t}function ue(t){return"function"==typeof t?t:qd}function le(t,e){var n=Kd(t)?Wd:Qd;return n(t,Xd(e))}function fe(t){if(null==t)return!0;if(D_(t)&&(I_(t)||"string"==typeof t||"function"==typeof t.splice||B_(t)||V_(t)||N_(t)))return!t.length;var e=M_(t);if(e==H_||e==z_)return!t.size;if(U_(t))return!L_(t).length;for(var n in t)if(q_.call(t,n))return!1;return!0}function pe(t){var e={};if(Jd(Jp.info,function(n,r){var i=n.exec(t);if(i)switch(r){case"score":e[r]={unit:i[1],value:parseFloat(i[2])};break;default:Yp.includes(r)?e[r]=parseFloat(i[1]):e[r]=i[1]}}),!G_(e))return e}function he(t){var e=Jp.option.exec(t);if(!e)return null;var n={type:e[2]};switch(e[2]){case"check":n.default="true"===e[3];break;case"spin":n.default=parseInt(e[3]),n.min=parseInt(e[4]),n.max=parseInt(e[5]);break;case"combo":n.default=e[3],n.options=e[6].split(/ ?var ?/g);break;case"string":n.default=e[3];break;case"button":}return th({},e[1],n)}function de(t,e){var n=Kp(Jp.cmdType.exec(e),1);switch(n){case"id":t.id=cv({},t.id,$t(e));break;case"option":t.options=cv({},t.options,he(e))}return t}function _e(t){lv("from engine:",t,r.EOL)}n="default"in n?n.default:n,o="default"in o?o.default:o,a="default"in a?a.default:a,s="default"in s?s.default:s,c="default"in c?c.default:c;var ve="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ye=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},me=ye,ge=function(t){return Object(me(t))},be={}.hasOwnProperty,we=function(t,e){return be.call(t,e)},je={}.toString,ke=function(t){return je.call(t).slice(8,-1)},Ce=ke,Ee=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==Ce(t)?t.split(""):Object(t)},Fe=Ee,xe=ye,Oe=function(t){return Fe(xe(t))},Te=Math.ceil,Pe=Math.floor,Se=function(t){return isNaN(t=+t)?0:(t>0?Pe:Te)(t)},Ae=Se,Re=Math.min,Le=function(t){return t>0?Re(Ae(t),9007199254740991):0},Me=Se,Ne=Math.max,Ie=Math.min,De=function(t,e){return t=Me(t),t<0?Ne(t+e,0):Ie(t,e)},Be=Oe,Ue=Le,Ve=De,He=function(t){return function(e,n,r){var i,o=Be(e),a=Ue(o.length),s=Ve(r,a);if(t&&n!=n){for(;a>s;)if(i=o[s++],i!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},ze=l(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),$e=ze,qe="__core-js_shared__",Ge=$e[qe]||($e[qe]={}),We=function(t){return Ge[t]||(Ge[t]={})},Qe=0,Xe=Math.random(),Ke=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++Qe+Xe).toString(36))},Je=We("keys"),Ye=Ke,Ze=function(t){return Je[t]||(Je[t]=Ye(t))},tn=we,en=Oe,nn=He(!1),rn=Ze("IE_PROTO"),on=function(t,e){var n,r=en(t),i=0,o=[];for(n in r)n!=rn&&tn(r,n)&&o.push(n);for(;e.length>i;)tn(r,n=e[i++])&&(~nn(o,n)||o.push(n));return o},an="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),sn=on,cn=an,un=Object.keys||function(t){return sn(t,cn)},ln=l(function(t){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)}),fn=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},pn=fn,hn=function(t,e,n){if(pn(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},dn=function(t){return"object"==typeof t?null!==t:"function"==typeof t},_n=dn,vn=function(t){if(!_n(t))throw TypeError(t+" is not an object!");return t},yn=function(t){try{return!!t()}catch(t){return!0}},mn=!yn(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),gn=dn,bn=ze.document,wn=gn(bn)&&gn(bn.createElement),jn=function(t){return wn?bn.createElement(t):{}},kn=!mn&&!yn(function(){return 7!=Object.defineProperty(jn("div"),"a",{get:function(){return 7}}).a}),Cn=dn,En=function(t,e){if(!Cn(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!Cn(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!Cn(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!Cn(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},Fn=vn,xn=kn,On=En,Tn=Object.defineProperty,Pn=mn?Object.defineProperty:function(t,e,n){if(Fn(t),e=On(e,!0),Fn(n),xn)try{return Tn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t},Sn={f:Pn},An=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Rn=Sn,Ln=An,Mn=mn?function(t,e,n){return Rn.f(t,e,Ln(1,n))}:function(t,e,n){return t[e]=n,t},Nn=ze,In=ln,Dn=hn,Bn=Mn,Un="prototype",Vn=function(t,e,n){var r,i,o,a=t&Vn.F,s=t&Vn.G,c=t&Vn.S,u=t&Vn.P,l=t&Vn.B,f=t&Vn.W,p=s?In:In[e]||(In[e]={}),h=p[Un],d=s?Nn:c?Nn[e]:(Nn[e]||{})[Un];s&&(n=e);for(r in n)i=!a&&d&&void 0!==d[r],i&&r in p||(o=i?d[r]:n[r],p[r]=s&&"function"!=typeof d[r]?n[r]:l&&i?Dn(o,Nn):f&&d[r]==o?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[Un]=t[Un],e}(o):u&&"function"==typeof o?Dn(Function.call,o):o,u&&((p.virtual||(p.virtual={}))[r]=o,t&Vn.R&&h&&!h[r]&&Bn(h,r,o)))};Vn.F=1,Vn.G=2,Vn.S=4,Vn.P=8,Vn.B=16,Vn.W=32,Vn.U=64,Vn.R=128;var Hn=Vn,zn=Hn,$n=ln,qn=yn,Gn=function(t,e){var n=($n.Object||{})[t]||Object[t],r={};r[t]=e(n),zn(zn.S+zn.F*qn(function(){n(1)}),"Object",r)},Wn=ge,Qn=un;Gn("keys",function(){return function(t){return Qn(Wn(t))}});var Xn=ln.Object.keys,Kn=l(function(t){t.exports={default:Xn,__esModule:!0}}),Jn=u(Kn),Yn=l(function(t){!function(e){function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),s=new h(r||[]);return a._invoke=l(t,n,s),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function c(t){this.arg=t}function u(t){function e(n,i,o,a){var s=r(t[n],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l instanceof c?Promise.resolve(l.arg).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(l).then(function(t){u.value=t,o(u)},a)}a(s.arg)}function n(t,n){function r(){return new Promise(function(r,i){e(t,n,r,i)})}return i=i?i.then(r,r):r()}"object"==typeof process&&process.domain&&(e=process.domain.bind(e));var i;this._invoke=n}function l(t,e,n){var i=k;return function(o,a){if(i===E)throw new Error("Generator is already running");if(i===F){if("throw"===o)throw a;return _()}for(;;){var s=n.delegate;if(s){if("return"===o||"throw"===o&&s.iterator[o]===v){n.delegate=null;var c=s.iterator.return;if(c){var u=r(c,s.iterator,a);if("throw"===u.type){o="throw",a=u.arg;continue}}if("return"===o)continue}var u=r(s.iterator[o],s.iterator,a);if("throw"===u.type){n.delegate=null,o="throw",a=u.arg;continue}o="next",a=v;var l=u.arg;if(!l.done)return i=C,l;n[s.resultName]=l.value,n.next=s.nextLoc,n.delegate=null}if("next"===o)n.sent=n._sent=a;else if("throw"===o){if(i===k)throw i=F,a;n.dispatchException(a)&&(o="next",a=v)}else"return"===o&&n.abrupt("return",a);i=E;var u=r(t,e,n);if("normal"===u.type){i=n.done?F:C;var l={value:u.arg,done:n.done};if(u.arg!==x)return l;n.delegate&&"next"===o&&(a=v)}else"throw"===u.type&&(i=F,o="throw",a=u.arg)}}}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function h(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function d(t){if(t){var e=t[g];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(y.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=v,e.done=!0,e};return r.next=r}}return{next:_}}function _(){return{value:v,done:!0}}var v,y=Object.prototype.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.toStringTag||"@@toStringTag",w="object"==typeof t,j=e.regeneratorRuntime;if(j)return void(w&&(t.exports=j));j=e.regeneratorRuntime=w?t.exports:{},j.wrap=n;var k="suspendedStart",C="suspendedYield",E="executing",F="completed",x={},O=a.prototype=i.prototype;o.prototype=O.constructor=a,a.constructor=o,a[b]=o.displayName="GeneratorFunction",j.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},j.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,b in t||(t[b]="GeneratorFunction")),t.prototype=Object.create(O),t},j.awrap=function(t){return new c(t)},s(u.prototype),j.async=function(t,e,r,i){var o=new u(n(t,e,r,i));return j.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(O),O[g]=function(){return this},O[b]="Generator",O.toString=function(){return"[object Generator]"},j.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},j.values=d,h.prototype={constructor:h,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=y.call(i,"catchLoc"),s=y.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?this.next=i.finallyLoc:this.complete(o),x},complete:function(t,e){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&e&&(this.next=e)},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),p(n),x}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;p(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:d(t),resultName:e,nextLoc:n},x}}}("object"==typeof ve?ve:"object"==typeof window?window:"object"==typeof self?self:ve)}),Zn="object"==typeof ve?ve:"object"==typeof window?window:"object"==typeof self?self:ve,tr=Zn.regeneratorRuntime&&Object.getOwnPropertyNames(Zn).indexOf("regeneratorRuntime")>=0,er=tr&&Zn.regeneratorRuntime;Zn.regeneratorRuntime=void 0;var nr=Yn;if(tr)Zn.regeneratorRuntime=er;else try{delete Zn.regeneratorRuntime}catch(t){Zn.regeneratorRuntime=void 0}var rr=nr,ir=Se,or=ye,ar=function(t){return function(e,n){var r,i,o=String(or(e)),a=ir(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a),r<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):(r-55296<<10)+(i-56320)+65536)}},sr=!0,cr=Mn,ur={},lr=Sn,fr=vn,pr=un,hr=mn?Object.defineProperties:function(t,e){fr(t);for(var n,r=pr(e),i=r.length,o=0;i>o;)lr.f(t,n=r[o++],e[n]);return t},dr=ze.document&&document.documentElement,_r=vn,vr=hr,yr=an,mr=Ze("IE_PROTO"),gr=function(){},br="prototype",wr=function(){var t,e=jn("iframe"),n=yr.length,r="<",i=">";for(e.style.display="none",dr.appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+i+"document.F=Object"+r+"/script"+i),t.close(),wr=t.F;n--;)delete wr[br][yr[n]];return wr()},jr=Object.create||function(t,e){var n;return null!==t?(gr[br]=_r(t),n=new gr,gr[br]=null,n[mr]=t):n=wr(),void 0===e?n:vr(n,e)},kr=l(function(t){var e=We("wks"),n=Ke,r=ze.Symbol,i="function"==typeof r,o=t.exports=function(t){return e[t]||(e[t]=i&&r[t]||(i?r:n)("Symbol."+t))};o.store=e}),Cr=Sn.f,Er=we,Fr=kr("toStringTag"),xr=function(t,e,n){t&&!Er(t=n?t:t.prototype,Fr)&&Cr(t,Fr,{configurable:!0,value:e})},Or=jr,Tr=An,Pr=xr,Sr={};Mn(Sr,kr("iterator"),function(){return this});var Ar=function(t,e,n){t.prototype=Or(Sr,{next:Tr(1,n)}),Pr(t,e+" Iterator")},Rr=we,Lr=ge,Mr=Ze("IE_PROTO"),Nr=Object.prototype,Ir=Object.getPrototypeOf||function(t){return t=Lr(t),Rr(t,Mr)?t[Mr]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Nr:null},Dr=sr,Br=Hn,Ur=cr,Vr=Mn,Hr=we,zr=ur,$r=Ar,qr=xr,Gr=Ir,Wr=kr("iterator"),Qr=!([].keys&&"next"in[].keys()),Xr="@@iterator",Kr="keys",Jr="values",Yr=function(){return this},Zr=function(t,e,n,r,i,o,a){$r(n,e,r);var s,c,u,l=function(t){if(!Qr&&t in d)return d[t];switch(t){case Kr:return function(){return new n(this,t)};case Jr:return function(){return new n(this,t)}}return function(){return new n(this,t)}},f=e+" Iterator",p=i==Jr,h=!1,d=t.prototype,_=d[Wr]||d[Xr]||i&&d[i],v=_||l(i),y=i?p?l("entries"):v:void 0,m="Array"==e?d.entries||_:_;if(m&&(u=Gr(m.call(new t)),u!==Object.prototype&&(qr(u,f,!0),Dr||Hr(u,Wr)||Vr(u,Wr,Yr))),p&&_&&_.name!==Jr&&(h=!0,v=function(){return _.call(this)}),Dr&&!a||!Qr&&!h&&d[Wr]||Vr(d,Wr,v),zr[e]=v,zr[f]=Yr,i)if(s={values:p?v:l(Jr),keys:o?v:l(Kr),entries:y},a)for(c in s)c in d||Ur(d,c,s[c]);else Br(Br.P+Br.F*(Qr||h),e,s);return s},ti=ar(!0);Zr(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=ti(e,n),this._i+=t.length,{value:t,done:!1})});var ei=function(){},ni=function(t,e){return{value:e,done:!!t}},ri=ei,ii=ni,oi=ur,ai=Oe,si=Zr(Array,"Array",function(t,e){this._t=ai(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,ii(1)):"keys"==e?ii(0,n):"values"==e?ii(0,t[n]):ii(0,[n,t[n]])},"values");oi.Arguments=oi.Array,ri("keys"),ri("values"),ri("entries");for(var ci=ze,ui=Mn,li=ur,fi=kr("toStringTag"),pi=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],hi=0;hi<5;hi++){var di=pi[hi],_i=ci[di],vi=_i&&_i.prototype;vi&&!vi[fi]&&ui(vi,fi,di),li[di]=li.Array}var yi=ke,mi=kr("toStringTag"),gi="Arguments"==yi(function(){return arguments}()),bi=function(t,e){try{return t[e]}catch(t){}},wi=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=bi(e=Object(t),mi))?n:gi?yi(e):"Object"==(r=yi(e))&&"function"==typeof e.callee?"Arguments":r},ji=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t},ki=vn,Ci=function(t,e,n,r){try{return r?e(ki(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&ki(i.call(t)),e}},Ei=ur,Fi=kr("iterator"),xi=Array.prototype,Oi=function(t){return void 0!==t&&(Ei.Array===t||xi[Fi]===t)},Ti=wi,Pi=kr("iterator"),Si=ur,Ai=ln.getIteratorMethod=function(t){if(void 0!=t)return t[Pi]||t["@@iterator"]||Si[Ti(t)]},Ri=l(function(t){var e=hn,n=Ci,r=Oi,i=vn,o=Le,a=Ai,s={},c={},u=t.exports=function(t,u,l,f,p){var h,d,_,v,y=p?function(){return t}:a(t),m=e(l,f,u?2:1),g=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(r(y)){for(h=o(t.length);h>g;g++)if(v=u?m(i(d=t[g])[0],d[1]):m(t[g]),v===s||v===c)return v}else for(_=y.call(t);!(d=_.next()).done;)if(v=n(_,m,d.value,u),v===s||v===c)return v};u.BREAK=s,u.RETURN=c}),Li=vn,Mi=fn,Ni=kr("species"),Ii=function(t,e){var n,r=Li(t).constructor;return void 0===r||void 0==(n=Li(r)[Ni])?e:Mi(n)},Di=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)},Bi=hn,Ui=Di,Vi=dr,Hi=jn,zi=ze,$i=zi.process,qi=zi.setImmediate,Gi=zi.clearImmediate,Wi=zi.MessageChannel,Qi=0,Xi={},Ki="onreadystatechange",Ji,Yi,Zi,to=function(){var t=+this;if(Xi.hasOwnProperty(t)){var e=Xi[t];delete Xi[t],e()}},eo=function(t){to.call(t.data)};qi&&Gi||(qi=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return Xi[++Qi]=function(){Ui("function"==typeof t?t:Function(t),e)},Ji(Qi),Qi},Gi=function(t){delete Xi[t]},"process"==ke($i)?Ji=function(t){$i.nextTick(Bi(to,t,1))}:Wi?(Yi=new Wi,Zi=Yi.port2,Yi.port1.onmessage=eo,Ji=Bi(Zi.postMessage,Zi,1)):zi.addEventListener&&"function"==typeof postMessage&&!zi.importScripts?(Ji=function(t){zi.postMessage(t+"","*")},zi.addEventListener("message",eo,!1)):Ji=Ki in Hi("script")?function(t){Vi.appendChild(Hi("script"))[Ki]=function(){Vi.removeChild(this),to.call(t)}}:function(t){setTimeout(Bi(to,t,1),0)});var no={set:qi,clear:Gi},ro=ze,io=no.set,oo=ro.MutationObserver||ro.WebKitMutationObserver,ao=ro.process,so=ro.Promise,co="process"==ke(ao),uo=function(){var t,e,n,r=function(){var r,i;for(co&&(r=ao.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(co)n=function(){ao.nextTick(r)};else if(oo){var i=!0,o=document.createTextNode("");new oo(r).observe(o,{characterData:!0}),n=function(){o.data=i=!i}}else if(so&&so.resolve){var a=so.resolve();n=function(){a.then(r)}}else n=function(){io.call(ro,r)};return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}},lo=Mn,fo=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:lo(t,r,e[r]);return t},po=ze,ho=ln,_o=Sn,vo=mn,yo=kr("species"),mo=function(t){var e="function"==typeof ho[t]?ho[t]:po[t];vo&&e&&!e[yo]&&_o.f(e,yo,{configurable:!0,get:function(){return this}})},go=kr("iterator"),bo=!1;try{var wo=[7][go]();wo.return=function(){bo=!0},Array.from(wo,function(){throw 2})}catch(t){}var jo=function(t,e){if(!e&&!bo)return!1;var n=!1;try{var r=[7],i=r[go]();i.next=function(){return{done:n=!0}},r[go]=function(){return i},t(r)}catch(t){}return n},ko=sr,Co=ze,Eo=hn,Fo=wi,xo=Hn,Oo=dn,To=fn,Po=ji,So=Ri,Ao=Ii,Ro=no.set,Lo=uo(),Mo="Promise",No=Co.TypeError,Io=Co.process,Do=Co[Mo],Io=Co.process,Bo="process"==Fo(Io),Uo=function(){},Vo,Ho,zo,$o=!!function(){try{var t=Do.resolve(1),e=(t.constructor={})[kr("species")]=function(t){t(Uo,Uo)};return(Bo||"function"==typeof PromiseRejectionEvent)&&t.then(Uo)instanceof e}catch(t){}}(),qo=function(t,e){return t===e||t===Do&&e===zo},Go=function(t){var e;return!(!Oo(t)||"function"!=typeof(e=t.then))&&e},Wo=function(t){return qo(Do,t)?new Qo(t):new Ho(t)},Qo=Ho=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw No("Bad Promise constructor");e=t,n=r}),this.resolve=To(e),this.reject=To(n)},Xo=function(t){try{t()}catch(t){return{error:t}}},Ko=function(t,e){if(!t._n){t._n=!0;var n=t._c;Lo(function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a=i?e.ok:e.fail,s=e.resolve,c=e.reject,u=e.domain;try{a?(i||(2==t._h&&Zo(t),t._h=1),a===!0?n=r:(u&&u.enter(),n=a(r),u&&u.exit()),n===e.promise?c(No("Promise-chain cycle")):(o=Go(n))?o.call(n,s,c):s(n)):c(r)}catch(t){c(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&Jo(t)})}},Jo=function(t){Ro.call(Co,function(){var e,n,r,i=t._v;if(Yo(t)&&(e=Xo(function(){Bo?Io.emit("unhandledRejection",i,t):(n=Co.onunhandledrejection)?n({promise:t,reason:i}):(r=Co.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=Bo||Yo(t)?2:1),t._a=void 0,e)throw e.error})},Yo=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if(e=n[r++],e.fail||!Yo(e.promise))return!1;return!0},Zo=function(t){Ro.call(Co,function(){var e;Bo?Io.emit("rejectionHandled",t):(e=Co.onrejectionhandled)&&e({promise:t,reason:t._v})})},ta=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),Ko(e,!0))},ea=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw No("Promise can't be resolved itself");(e=Go(t))?Lo(function(){var r={_w:n,_d:!1};try{e.call(t,Eo(ea,r,1),Eo(ta,r,1))}catch(t){ta.call(r,t)}}):(n._v=t,
n._s=1,Ko(n,!1))}catch(t){ta.call({_w:n,_d:!1},t)}}};$o||(Do=function(t){Po(this,Do,Mo,"_h"),To(t),Vo.call(this);try{t(Eo(ea,this,1),Eo(ta,this,1))}catch(t){ta.call(this,t)}},Vo=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},Vo.prototype=fo(Do.prototype,{then:function(t,e){var n=Wo(Ao(this,Do));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Bo?Io.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Ko(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),Qo=function(){var t=new Vo;this.promise=t,this.resolve=Eo(ea,t,1),this.reject=Eo(ta,t,1)}),xo(xo.G+xo.W+xo.F*!$o,{Promise:Do}),xr(Do,Mo),mo(Mo),zo=ln[Mo],xo(xo.S+xo.F*!$o,Mo,{reject:function(t){var e=Wo(this),n=e.reject;return n(t),e.promise}}),xo(xo.S+xo.F*(ko||!$o),Mo,{resolve:function(t){if(t instanceof Do&&qo(t.constructor,this))return t;var e=Wo(this),n=e.resolve;return n(t),e.promise}}),xo(xo.S+xo.F*!($o&&jo(function(t){Do.all(t).catch(Uo)})),Mo,{all:function(t){var e=this,n=Wo(e),r=n.resolve,i=n.reject,o=Xo(function(){var n=[],o=0,a=1;So(t,!1,function(t){var s=o++,c=!1;n.push(void 0),a++,e.resolve(t).then(function(t){c||(c=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o&&i(o.error),n.promise},race:function(t){var e=this,n=Wo(e),r=n.reject,i=Xo(function(){So(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i&&r(i.error),n.promise}});var na=ln.Promise,ra=l(function(t){t.exports={default:na,__esModule:!0}}),ia=l(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=ra,i=n(r);e.default=function(t){return function(){var e=t.apply(this,arguments);return new i.default(function(t,n){function r(o,a){try{var s=e[o](a),c=s.value}catch(t){return void n(t)}return s.done?void t(c):i.default.resolve(c).then(function(t){r("next",t)},function(t){r("throw",t)})}return r("next")})}}}),oa=u(ia),aa=l(function(t){var e=Ke("meta"),n=dn,r=we,i=Sn.f,o=0,a=Object.isExtensible||function(){return!0},s=!yn(function(){return a(Object.preventExtensions({}))}),c=function(t){i(t,e,{value:{i:"O"+ ++o,w:{}}})},u=function(t,i){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,e)){if(!a(t))return"F";if(!i)return"E";c(t)}return t[e].i},l=function(t,n){if(!r(t,e)){if(!a(t))return!0;if(!n)return!1;c(t)}return t[e].w},f=function(t){return s&&p.NEED&&a(t)&&!r(t,e)&&c(t),t},p=t.exports={KEY:e,NEED:!1,fastKey:u,getWeak:l,onFreeze:f}}),sa=Sn.f,ca=jr,ua=fo,la=hn,fa=ji,pa=ye,ha=Ri,da=Zr,_a=ni,va=mo,ya=mn,ma=aa.fastKey,ga=ya?"_s":"size",ba=function(t,e){var n,r=ma(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n},wa={getConstructor:function(t,e,n,r){var i=t(function(t,o){fa(t,i,e,"_i"),t._i=ca(null),t._f=void 0,t._l=void 0,t[ga]=0,void 0!=o&&ha(o,n,t[r],t)});return ua(i.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[ga]=0},delete:function(t){var e=this,n=ba(e,t);if(n){var r=n.n,i=n.p;delete e._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),e._f==n&&(e._f=r),e._l==n&&(e._l=i),e[ga]--}return!!n},forEach:function(t){fa(this,i,"forEach");for(var e,n=la(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!ba(this,t)}}),ya&&sa(i.prototype,"size",{get:function(){return pa(this[ga])}}),i},def:function(t,e,n){var r,i,o=ba(t,e);return o?o.v=n:(t._l=o={i:i=ma(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[ga]++,"F"!==i&&(t._i[i]=o)),t},getEntry:ba,setStrong:function(t,e,n){da(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?_a(0,n.k):"values"==e?_a(0,n.v):_a(0,[n.k,n.v]):(t._t=void 0,_a(1))},n?"entries":"values",!n,!0),va(e)}},ja=ke,ka=Array.isArray||function(t){return"Array"==ja(t)},Ca=dn,Ea=ka,Fa=kr("species"),xa=function(t){var e;return Ea(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!Ea(e.prototype)||(e=void 0),Ca(e)&&(e=e[Fa],null===e&&(e=void 0))),void 0===e?Array:e},Oa=xa,Ta=function(t,e){return new(Oa(t))(e)},Pa=hn,Sa=Ee,Aa=ge,Ra=Le,La=Ta,Ma=function(t,e){var n=1==t,r=2==t,i=3==t,o=4==t,a=6==t,s=5==t||a,c=e||La;return function(e,u,l){for(var f,p,h=Aa(e),d=Sa(h),_=Pa(u,l,3),v=Ra(d.length),y=0,m=n?c(e,v):r?c(e,0):void 0;v>y;y++)if((s||y in d)&&(f=d[y],p=_(f,y,h),t))if(n)m[y]=p;else if(p)switch(t){case 3:return!0;case 5:return f;case 6:return y;case 2:m.push(f)}else if(o)return!1;return a?-1:i||o?o:m}},Na=ze,Ia=Hn,Da=aa,Ba=yn,Ua=Mn,Va=fo,Ha=Ri,za=ji,$a=dn,qa=xr,Ga=Sn.f,Wa=Ma(0),Qa=mn,Xa=function(t,e,n,r,i,o){var a=Na[t],s=a,c=i?"set":"add",u=s&&s.prototype,l={};return Qa&&"function"==typeof s&&(o||u.forEach&&!Ba(function(){(new s).entries().next()}))?(s=e(function(e,n){za(e,s,t,"_c"),e._c=new a,void 0!=n&&Ha(n,i,e[c],e)}),Wa("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in u&&(!o||"clear"!=t)&&Ua(s.prototype,t,function(n,r){if(za(this,s,t),!e&&o&&!$a(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i})}),"size"in u&&Ga(s.prototype,"size",{get:function(){return this._c.size}})):(s=r.getConstructor(e,t,i,c),Va(s.prototype,n),Da.NEED=!0),qa(s,t),l[t]=s,Ia(Ia.G+Ia.W+Ia.F,l),o||r.setStrong(s,t,i),s},Ka=wa,Ja=Xa("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=Ka.getEntry(this,t);return e&&e.v},set:function(t,e){return Ka.def(this,0===t?0:t,e)}},Ka,!0),Ya=Ri,Za=function(t,e){var n=[];return Ya(t,!1,n.push,n,e),n},ts=wi,es=Za,ns=function(t){return function(){if(ts(this)!=t)throw TypeError(t+"#toJSON isn't generic");return es(this)}},rs=Hn;rs(rs.P+rs.R,"Map",{toJSON:ns("Map")});var is=ln.Map,os=l(function(t){t.exports={default:is,__esModule:!0}}),as=u(os),ss=l(function(t,e){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}}),cs=u(ss),us=Hn;us(us.S+us.F*!mn,"Object",{defineProperty:Sn.f});var ls=ln.Object,fs=function(t,e,n){return ls.defineProperty(t,e,n)},ps=l(function(t){t.exports={default:fs,__esModule:!0}}),hs=l(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=ps,i=n(r);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()}),ds=u(hs),_s=l(function(t){var e=function(){return void 0===this}();if(e)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:e,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var n={}.hasOwnProperty,r={}.toString,i={}.constructor.prototype,o=function(t){var e=[];for(var r in t)n.call(t,r)&&e.push(r);return e},a=function(t,e){return{value:t[e]}},s=function(t,e,n){return t[e]=n.value,t},c=function(t){return t},u=function(t){try{return Object(t).constructor.prototype}catch(t){return i}},l=function(t){try{return"[object Array]"===r.call(t)}catch(t){return!1}};t.exports={isArray:l,keys:o,names:o,defineProperty:s,getDescriptor:a,freeze:c,getPrototypeOf:u,isES5:e,propertyIsWritable:function(){return!0}}}}),vs=_s,ys="undefined"==typeof navigator,ms={e:{}},gs,bs="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof ve?ve:void 0!==ve?ve:null,ws=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},js=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(vs.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(t){return r}for(var a=0;a<o.length;++a){var s=o[a];if(!i[s]){i[s]=!0;var c=Object.getOwnPropertyDescriptor(t,s);null!=c&&null==c.get&&null==c.set&&r.push(s)}}t=vs.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<t.length;++a)if(r.call(t[a],o))continue t;i.push(o)}return i}}(),ks=/this\s*\.\s*\S+\s*=/,Cs=/^[a-z$_][a-z$_0-9]*$/i,Es=function(){return"stack"in new Error?function(t){return O(t)?t:new Error(C(t))}:function(t){if(O(t))return t;try{throw new Error(C(t))}catch(t){return t}}}(),Fs=function(t){return vs.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var xs="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};Fs=function(t){return vs.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?xs(t):null}}var Os="undefined"!=typeof process&&"[object process]"===T(process).toLowerCase(),Ts={isClass:b,isIdentifier:j,inheritedDataKeys:js,getDataPropertyOrDefault:y,thrower:g,isArray:vs.isArray,asArray:Fs,notEnumerableProp:m,isPrimitive:h,isObject:d,isError:E,canEvaluate:ys,errorObj:ms,tryCatch:p,inherits:ws,withAppended:v,maybeWrapAsError:_,toFastProperties:w,filledRange:k,toString:C,canAttachTrace:O,ensureErrorObject:Es,originatesFromRejection:x,markAsOriginatingFromRejection:F,classString:T,copyDescriptors:P,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:Os,env:S,global:bs,getNativePromise:A,domainBind:R};Ts.isRecentNode=Ts.isNode&&function(){var t=process.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),Ts.isNode&&Ts.toFastProperties(process);try{throw new Error}catch(t){Ts.lastLineError=t}var Ps=Ts,Ss=Ps,As,Rs=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},Ls=Ss.getNativePromise();if(Ss.isNode&&"undefined"==typeof MutationObserver){var Ms=ve.setImmediate,Ns=process.nextTick;As=Ss.isRecentNode?function(t){Ms.call(ve,t)}:function(t){Ns.call(process,t)}}else if("function"==typeof Ls&&"function"==typeof Ls.resolve){var Is=Ls.resolve();As=function(t){Is.then(t)}}else As="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:Rs:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});i.observe(r,e);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),o()}}();var Ds=As;M.prototype._willBeOverCapacity=function(t){return this._capacity<t},M.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},M.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&e-1^e)-e;this[r]=t,this._front=r,this._length=this.length()+1},M.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},M.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},M.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},M.prototype.length=function(){return this._length},M.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},M.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,r=this._length,i=n+r&e-1;L(this,0,this,e,i)};var Bs=M,Us;try{throw new Error}catch(t){Us=t}var Vs=Ds,Hs=Bs,zs=Ps;N.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},N.prototype.hasCustomScheduler=function(){return this._customScheduler},N.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},N.prototype.disableTrampolineIfNecessary=function(){zs.hasDevTools&&(this._trampolineEnabled=!1)},N.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},N.prototype.fatalError=function(t,e){e?(process.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},N.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},zs.hasDevTools?(N.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?I.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},N.prototype.invoke=function(t,e,n){this._trampolineEnabled?D.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},N.prototype.settlePromises=function(t){this._trampolineEnabled?B.call(this,t):this._schedule(function(){t._settlePromises()})}):(N.prototype.invokeLater=I,N.prototype.invoke=D,N.prototype.settlePromises=B),N.prototype.invokeFirst=function(t,e,n){this._normalQueue.unshift(t,e,n),this._queueTick()},N.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},N.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},N.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},N.prototype._reset=function(){this._isTickUsed=!1};var $s=N,qs=Us;$s.firstLineError=qs;var Gs=_s,Ws=Gs.freeze,Qs=Ps,Xs=Qs.inherits,Ks=Qs.notEnumerableProp,Js,Ys,Zs=U("Warning","warning"),tc=U("CancellationError","cancellation error"),ec=U("TimeoutError","timeout error"),nc=U("AggregateError","aggregate error");try{Js=TypeError,Ys=RangeError}catch(t){Js=U("TypeError","type error"),Ys=U("RangeError","range error")}for(var rc="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),ic=0;ic<rc.length;++ic)"function"==typeof Array.prototype[rc[ic]]&&(nc.prototype[rc[ic]]=Array.prototype[rc[ic]]);Gs.defineProperty(nc.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),nc.prototype.isOperational=!0;var oc=0;nc.prototype.toString=function(){var t=Array(4*oc+1).join(" "),e="\n"+t+"AggregateError of:\n";oc++,t=Array(4*oc+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return oc--,e},Xs(V,Error);var ac=Error.__BluebirdErrorTypes__;ac||(ac=Ws({CancellationError:tc,TimeoutError:ec,OperationalError:V,RejectionError:V,AggregateError:nc}),Gs.defineProperty(Error,"__BluebirdErrorTypes__",{value:ac,writable:!1,enumerable:!1,configurable:!1}));var sc={Error:Error,TypeError:Js,RangeError:Ys,CancellationError:ac.CancellationError,OperationalError:ac.OperationalError,TimeoutError:ac.TimeoutError,AggregateError:ac.AggregateError,Warning:Zs},cc=function(t,e){function n(n,r){if(u(n)){if(n instanceof t)return n;var s=i(n);if(s===c){r&&r._pushContext();var l=t.reject(s.e);return r&&r._popContext(),l}if("function"==typeof s){if(o(n)){var l=new t(e);return n._then(l._fulfill,l._reject,void 0,l,null),l}return a(n,s,r)}}return n}function r(t){return t.then}function i(t){try{return r(t)}catch(t){return c.e=t,c}}function o(t){try{return l.call(t,"_promise0")}catch(t){return!1}}function a(n,r,i){function o(t){u&&(u._resolveCallback(t),u=null)}function a(t){u&&(u._rejectCallback(t,f,!0),u=null)}var u=new t(e),l=u;i&&i._pushContext(),u._captureStackTrace(),i&&i._popContext();var f=!0,p=s.tryCatch(r).call(n,o,a);return f=!1,u&&p===c&&(u._rejectCallback(p.e,!0,!0),u=null),l}var s=Ps,c=s.errorObj,u=s.isObject,l={}.hasOwnProperty;return n},uc=function(t,e,n,r,i){function o(t){switch(t){case-2:return[];case-3:return{}}}function a(n){var r=this._promise=new t(e);n instanceof t&&r._propagateFrom(n,3),r._setOnCancel(this),this._values=n,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var s=Ps;s.isArray;return s.inherits(a,i),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function e(i,a){var c=n(this._values,this._promise);if(c instanceof t){c=c._target();var u=c._bitField;if(this._values=c,0===(50397184&u))return this._promise._setAsyncGuaranteed(),c._then(e,this._reject,void 0,this,a);if(0===(33554432&u))return 0!==(16777216&u)?this._reject(c._reason()):this._cancel();c=c._value()}if(c=s.asArray(c),null===c){var l=r("expecting an array or an iterable object but got "+s.classString(c)).reason();return void this._promise._rejectCallback(l,!1)}return 0===c.length?void(a===-5?this._resolveEmptyArray():this._resolve(o(a))):void this._iterate(c)},a.prototype._iterate=function(e){var r=this.getActualLength(e.length);this._length=r,this._values=this.shouldCopyValues()?new Array(r):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<r;++s){var c=n(e[s],i);c instanceof t?(c=c._target(),a=c._bitField):a=null,o?null!==a&&c.suppressUnhandledRejections():null!==a?0===(50397184&a)?(c._proxy(this,s),this._values[s]=c):o=0!==(33554432&a)?this._promiseFulfilled(c._value(),s):0!==(16777216&a)?this._promiseRejected(c._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(c,s)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a},lc=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){if(i)return new e}function r(){var t=o.length-1;if(t>=0)return o[t]}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,a=t._peekContext,s=t.prototype._peekContext,c=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=a,t.prototype._peekContext=s,t.prototype._promiseCreated=c,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e},fc=function(t,e){function n(t,e){return{promise:e}}function r(){return!1}function i(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+I.toString(t));r._attachCancellationCallback(t)})}catch(t){return t}}function o(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?I.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function a(){return this._onCancelField}function s(t){this._onCancelField=t}function c(){this._cancellationParent=void 0,this._onCancelField=void 0}function u(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function l(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function f(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function p(){this._trace=new P(this._peekContext())}function h(t,e){if(D(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=j(t);I.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),I.notEnumerableProp(t,"__stackCleaned__",!0)}}}function d(t,e,n,r,i){if(void 0===t&&null!==e&&Q){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(e._trace){for(var s=e._trace.stack.split("\n"),c=b(s),u=c.length-1;u>=0;--u){var l=c[u];if(!U.test(l)){var f=l.match(V);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(c.length>0)for(var p=c[0],u=0;u<s.length;++u)if(s[u]===p){u>0&&(a="\n"+s[u-1]);break}}var h="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(h,!0,e)}}function _(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),v(n)}function v(e,n,r){if(it.warnings){var i,o=new N(e);if(n)r._attachExtraTrace(o);else if(it.longStackTraces&&(i=t._peekContext()))i.attachExtraTrace(o);else{var a=j(o);o.stack=a.message+"\n"+a.stack.join("\n")}Z("warning",o)||k(o,"",!0)}}function y(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function m(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function g(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(var s=a;s>=0;--s){var c=r[s];if(e[i]!==c)break;e.pop(),i--}e=r}}function b(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||H.test(r),o=i&&et(r);i&&!o&&($&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function w(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||H.test(r))break}return n>0&&(e=e.slice(n)),e}function j(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?w(t):["    (No stack trace)"],{message:n,stack:b(e)}}function k(t,e,n){if("undefined"!=typeof console){var r;if(I.isObject(t)){var i=t.stack;r=e+z(i,t)}else r=e+String(t);"function"==typeof R?R(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function C(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(t){M.throwLater(t)}"unhandledRejection"===t?Z(t,n,r)||i||k(n,"Unhandled rejection "):Z(t,r)}function E(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():I.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+F(e)+">, no stack trace)"}function F(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function x(){return"function"==typeof rt}function O(t){var e=t.match(nt);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function T(t,e){if(x()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),a=-1,s=-1,c=0;c<i.length;++c){var u=O(i[c]);if(u){n=u.fileName,a=u.line;break}}for(var c=0;c<o.length;++c){var u=O(o[c]);if(u){r=u.fileName,s=u.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(et=function(t){if(B.test(t))return!0;var e=O(t);return!!(e&&e.fileName===n&&a<=e.line&&e.line<=s)})}}function P(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);rt(this,P),e>32&&this.uncycle()}var S,A,R,L=t._getDomain,M=t._async,N=sc.Warning,I=Ps,D=I.canAttachTrace,B=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,U=/\((?:timers\.js):\d+:\d+\)/,V=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,H=null,z=null,$=!1,q=!(0==I.env("BLUEBIRD_DEBUG")||!I.env("BLUEBIRD_DEBUG")&&"development"!==I.env("NODE_ENV")),G=!(0==I.env("BLUEBIRD_WARNINGS")||!q&&!I.env("BLUEBIRD_WARNINGS")),W=!(0==I.env("BLUEBIRD_LONG_STACK_TRACES")||!q&&!I.env("BLUEBIRD_LONG_STACK_TRACES")),Q=0!=I.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(G||!!I.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=t._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),M.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){C("rejectionHandled",S,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},t.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),C("unhandledRejection",A,t,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},t.prototype._warn=function(t,e,n){return v(t,e,n||this)},t.onPossiblyUnhandledRejection=function(t){var e=L();A="function"==typeof t?null===e?t:I.domainBind(e,t):void 0},t.onUnhandledRejectionHandled=function(t){var e=L();S="function"==typeof t?null===e?t:I.domainBind(e,t):void 0};var X=function(){};t.longStackTraces=function(){if(M.haveItemsQueued()&&!it.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!it.longStackTraces&&x()){var n=t.prototype._captureStackTrace,r=t.prototype._attachExtraTrace;it.longStackTraces=!0,X=function(){if(M.haveItemsQueued()&&!it.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=n,t.prototype._attachExtraTrace=r,e.deactivateLongStackTraces(),M.enableTrampoline(),it.longStackTraces=!1},t.prototype._captureStackTrace=p,t.prototype._attachExtraTrace=h,e.activateLongStackTraces(),M.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return it.longStackTraces&&x()};var K=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return I.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!I.global.dispatchEvent(n)}}if("function"==typeof Event){var t=new Event("CustomEvent");return I.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,!I.global.dispatchEvent(n)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),I.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!I.global.dispatchEvent(n)}}catch(t){}return function(){return!1}}(),J=function(){return I.isNode?function(){return process.emit.apply(process,arguments)}:I.global?function(t){var e="on"+t.toLowerCase(),n=I.global[e];return!!n&&(n.apply(I.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),Y={promiseCreated:n,promiseFulfilled:n,promiseRejected:n,promiseResolved:n,promiseCancelled:n,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:n},Z=function(t){var e=!1;try{e=J.apply(null,arguments)}catch(t){M.throwLater(t),e=!0}var n=!1;try{n=K(t,Y[t].apply(null,arguments))}catch(t){M.throwLater(t),n=!0}return n||e};t.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&X()),"warnings"in e){var n=e.warnings;it.warnings=!!n,Q=it.warnings,I.isObject(n)&&"wForgottenReturn"in n&&(Q=!!n.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!it.cancellation){if(M.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=c,t.prototype._propagateFrom=u,t.prototype._onCancel=a,t.prototype._setOnCancel=s,t.prototype._attachCancellationCallback=o,t.prototype._execute=i,tt=u,it.cancellation=!0}"monitoring"in e&&(e.monitoring&&!it.monitoring?(it.monitoring=!0,t.prototype._fireEvent=Z):!e.monitoring&&it.monitoring&&(it.monitoring=!1,t.prototype._fireEvent=r))},t.prototype._fireEvent=r,t.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(t){},t.prototype._attachCancellationCallback=function(t){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(t,e){};var tt=l,et=function(){return!1},nt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;I.inherits(P,Error),e.CapturedTrace=P,P.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<t;++r){var a=e[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var c=r>0?e[r-1]:this;s<t-1?(c._parent=e[s+1],c._parent.uncycle(),c._length=c._parent._length+1):(c._parent=void 0,c._length=1);for(var u=c._length+1,l=r-2;l>=0;--l)e[l]._length=u,u++;return}}}},P.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=j(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(b(i.stack.split("\n"))),i=i._parent;g(r),m(r),I.notEnumerableProp(t,"stack",y(n,r)),I.notEnumerableProp(t,"__stackCleaned__",!0)}};var rt=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():E(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,H=t,z=e;var n=Error.captureStackTrace;return et=function(t){return B.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return H=/@/,
z=e,$=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(t){i="stack"in t}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(z=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?E(e):e.toString()},null):(H=t,z=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(R=function(t){console.warn(t)},I.isNode&&process.stderr.isTTY?R=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:I.isNode||"string"!=typeof(new Error).stack||(R=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var it={warnings:G,longStackTraces:!1,cancellation:!1,monitoring:!1};return W&&t.longStackTraces(),{longStackTraces:function(){return it.longStackTraces},warnings:function(){return it.warnings},cancellation:function(){return it.cancellation},monitoring:function(){return it.monitoring},propagateFromFunction:function(){return tt},boundValueFunction:function(){return f},checkForgottenReturns:d,setBounds:T,warn:v,deprecated:_,CapturedTrace:P,fireDomEvent:K,fireGlobalEvent:J}},pc=function(t,e){function n(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function r(t){this.finallyHandler=t}function i(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function o(){return s.call(this,this.promise._target()._settledValue())}function a(t){if(!i(this,t))return l.e=t,l}function s(n){var s=this.promise,c=this.handler;if(!this.called){this.called=!0;var f=this.isFinallyHandler()?c.call(s._boundValue()):c.call(s._boundValue(),n);if(void 0!==f){s._setReturnedNonUndefined();var p=e(f,s);if(p instanceof t){if(null!=this.cancelPromise){if(p._isCancelled()){var h=new u("late cancellation observer");return s._attachExtraTrace(h),l.e=h,l}p.isPending()&&p._attachCancellationCallback(new r(this))}return p._then(o,a,void 0,this,void 0)}}}return s.isRejected()?(i(this),l.e=n,l):(i(this),n)}var c=Ps,u=t.CancellationError,l=c.errorObj;return n.prototype.isFinallyHandler=function(){return 0===this.type},r.prototype._resultCancelled=function(){i(this.finallyHandler)},t.prototype._passThrough=function(t,e,r,i){return"function"!=typeof t?this.then():this._then(r,i,void 0,new n(this,e,t),void 0)},t.prototype.lastly=t.prototype.finally=function(t){return this._passThrough(t,0,s,s)},t.prototype.tap=function(t){return this._passThrough(t,1,s)},n},hc=function(t){function e(e,a,s){return function(c){var u=s._boundValue();t:for(var l=0;l<e.length;++l){var f=e[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(c instanceof f)return i(a).call(u,c)}else if("function"==typeof f){var p=i(f).call(u,c);if(p===o)return p;if(p)return i(a).call(u,c)}else if(n.isObject(c)){for(var h=r(f),d=0;d<h.length;++d){var _=h[d];if(f[_]!=c[_])continue t}return i(a).call(u,c)}}return t}}var n=Ps,r=_s.keys,i=n.tryCatch,o=n.errorObj;return e},dc=Ps,_c=dc.maybeWrapAsError,vc=sc,yc=vc.OperationalError,mc=_s,gc=/^(?:name|message|stack|cause)$/,bc=$,wc=function(t,e,n,r,i){var o=Ps,a=o.tryCatch;t.method=function(n){if("function"!=typeof n)throw new t.TypeError("expecting a function but got "+o.classString(n));return function(){var r=new t(e);r._captureStackTrace(),r._pushContext();var o=a(n).apply(this,arguments),s=r._popContext();return i.checkForgottenReturns(o,s,"Promise.method",r),r._resolveFromSyncValue(o),r}},t.attempt=t.try=function(n){if("function"!=typeof n)return r("expecting a function but got "+o.classString(n));var s=new t(e);s._captureStackTrace(),s._pushContext();var c;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],l=arguments[2];c=o.isArray(u)?a(n).apply(l,u):a(n).call(l,u)}else c=a(n)();var f=s._popContext();return i.checkForgottenReturns(c,f,"Promise.try",s),s._resolveFromSyncValue(c),s},t.prototype._resolveFromSyncValue=function(t){t===o.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}},jc=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},a=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},s=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},c=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var u=n(o),l=new t(e);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(u),u instanceof t){var p={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:u};f._then(e,a,void 0,l,p),u._then(s,c,void 0,l,p),l._setOnCancel(u)}else l._resolveCallback(f);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}},kc=function(t,e,n,r){var i=Ps,o=i.tryCatch,a=i.errorObj,s=t._async;t.prototype.break=t.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),s.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(t,e){if(i.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=o(t).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),s.throwLater(r.e))}}else t._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),s.invoke(this._doInvokeOnCancel,this,t)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}},Cc=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}},Ec=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e},Fc=function(t,e,n,r,i,o){var a,s=Ps,c=s.canEvaluate,u=s.tryCatch,l=s.errorObj;if(c){for(var f=function(t){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,t))},p=function(t){return new Function("promise","holder","                           \n            'use strict';                                                    \n            holder.pIndex = promise;                                         \n            ".replace(/Index/g,t))},h=function(e){for(var n=new Array(e),r=0;r<n.length;++r)n[r]="this.p"+(r+1);var o=n.join(" = ")+" = null;",a="var promise;\n"+n.map(function(t){return"                                                         \n                promise = "+t+";                                      \n                if (promise instanceof Promise) {                            \n                    promise.cancel();                                        \n                }                                                            \n            "}).join("\n"),s=n.join(", "),c="Holder$"+e,f="return function(tryCatch, errorObj, Promise, async) {    \n            'use strict';                                                    \n            function [TheName](fn) {                                         \n                [TheProperties]                                              \n                this.fn = fn;                                                \n                this.asyncNeeded = true;                                     \n                this.now = 0;                                                \n            }                                                                \n                                                                             \n            [TheName].prototype._callFunction = function(promise) {          \n                promise._pushContext();                                      \n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n                promise._popContext();                                       \n                if (ret === errorObj) {                                      \n                    promise._rejectCallback(ret.e, false);                   \n                } else {                                                     \n                    promise._resolveCallback(ret);                           \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype.checkFulfillment = function(promise) {       \n                var now = ++this.now;                                        \n                if (now === [TheTotal]) {                                    \n                    if (this.asyncNeeded) {                                  \n                        async.invoke(this._callFunction, this, promise);     \n                    } else {                                                 \n                        this._callFunction(promise);                         \n                    }                                                        \n                                                                             \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype._resultCancelled = function() {              \n                [CancellationCode]                                           \n            };                                                               \n                                                                             \n            return [TheName];                                                \n        }(tryCatch, errorObj, Promise, async);                               \n        ";return f=f.replace(/\[TheName\]/g,c).replace(/\[TheTotal\]/g,e).replace(/\[ThePassedArguments\]/g,s).replace(/\[TheProperties\]/g,o).replace(/\[CancellationCode\]/g,a),new Function("tryCatch","errorObj","Promise","async",f)(u,l,t,i)},d=[],_=[],v=[],y=0;y<8;++y)d.push(h(y+1)),_.push(f(y+1)),v.push(p(y+1));a=function(t){this._reject(t)}}t.join=function(){var i,u=arguments.length-1;if(u>0&&"function"==typeof arguments[u]&&(i=arguments[u],u<=8&&c)){var l=new t(r);l._captureStackTrace();for(var f=d[u-1],p=new f(i),h=_,y=0;y<u;++y){var m=n(arguments[y],l);if(m instanceof t){m=m._target();var g=m._bitField;0===(50397184&g)?(m._then(h[y],a,void 0,l,p),v[y](m,p),p.asyncNeeded=!1):0!==(33554432&g)?h[y].call(l,m._value(),p):0!==(16777216&g)?l._reject(m._reason()):l._cancel()}else h[y].call(l,m,p)}if(!l._isFateSealed()){if(p.asyncNeeded){var b=o();null!==b&&(p.fn=s.domainBind(b,p.fn))}l._setAsyncGuaranteed(),l._setOnCancel(p)}return l}for(var w=arguments.length,j=new Array(w),k=0;k<w;++k)j[k]=arguments[k];i&&j.pop();var l=new e(j).promise();return void 0!==i?l.spread(i):l}},xc=function(t,e,n,r,i,o){function a(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var o=c();this._callback=null===o?e:u.domainBind(o,e),this._preservedValues=r===i?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],p.invoke(this._asyncInit,this,void 0)}function s(e,r,i,o){if("function"!=typeof r)return n("expecting a function but got "+u.classString(r));var s=0;if(void 0!==i){if("object"!=typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+u.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(i.concurrency)));s=i.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new a(e,r,s,o).promise()}var c=t._getDomain,u=Ps,l=u.tryCatch,f=u.errorObj,p=t._async;u.inherits(a,e),a.prototype._asyncInit=function(){this._init$(void 0,-2)},a.prototype._init=function(){},a.prototype._promiseFulfilled=function(e,n){var i=this._values,a=this.length(),s=this._preservedValues,c=this._limit;if(n<0){if(n=n*-1-1,i[n]=e,c>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(c>=1&&this._inFlight>=c)return i[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var u=this._promise,p=this._callback,h=u._boundValue();u._pushContext();var d=l(p).call(h,e,n,a),_=u._popContext();if(o.checkForgottenReturns(d,_,null!==s?"Promise.filter":"Promise.map",u),d===f)return this._reject(d.e),!0;var v=r(d,this._promise);if(v instanceof t){v=v._target();var y=v._bitField;if(0===(50397184&y))return c>=1&&this._inFlight++,i[n]=v,v._proxy(this,(n+1)*-1),!1;if(0===(33554432&y))return 0!==(16777216&y)?(this._reject(v._reason()),!0):(this._cancel(),!0);d=v._value()}i[n]=d}var m=++this._totalResolved;return m>=a&&(null!==s?this._filter(i,s):this._resolve(i),!0)},a.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},a.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},a.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(t,e){return s(this,t,e,null)},t.map=function(t,e,n,r){return s(t,e,n,r)}},Oc=Object.create;if(Oc){var Tc=Oc(null),Pc=Oc(null);Tc[" size"]=Pc[" size"]=0}var Sc=function(t){function e(e,n){var r;if(null!=e&&(r=e[n]),"function"!=typeof r){var i="Object "+s.classString(e)+" has no method '"+s.toString(n)+"'";throw new t.TypeError(i)}return r}function n(t){var n=this.pop(),r=e(t,n);return r.apply(t,this)}function r(t){return t[this]}function i(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var o,a,s=Ps,c=s.canEvaluate,u=s.isIdentifier,l=function(t){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,t))(e)},f=function(t){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",t))},p=function(t,e,n){var r=n[t];if("function"!=typeof r){if(!u(t))return null;if(r=e(t),n[t]=r,n[" size"]++,n[" size"]>512){for(var i=Object.keys(n),o=0;o<256;++o)delete n[i[o]];n[" size"]=i.length-256}}return r};o=function(t){return p(t,l,Tc)},a=function(t){return p(t,f,Pc)},t.prototype.call=function(t){for(var e=arguments.length,r=new Array(Math.max(e-1,0)),i=1;i<e;++i)r[i-1]=arguments[i];if(c){var a=o(t);if(null!==a)return this._then(a,void 0,void 0,r,void 0)}return r.push(t),this._then(n,void 0,void 0,r,void 0)},t.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=i;else if(c){var o=a(t);e=null!==o?o:r}else e=r;return this._then(e,void 0,void 0,t,void 0)}},Ac=function(t,e,n,r,i,o){function a(t){setTimeout(function(){throw t},0)}function s(t){var e=n(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function c(e,r){function o(){if(c>=u)return l._fulfill();var i=s(e[c++]);if(i instanceof t&&i._isDisposable()){try{i=n(i._getDisposer().tryDispose(r),e.promise)}catch(t){return a(t)}if(i instanceof t)return i._then(o,a,null,null,null)}o()}var c=0,u=e.length,l=new t(i);return o(),l}function u(t,e,n){this._data=t,this._promise=e,this._context=n}function l(t,e,n){this.constructor$(t,e,n)}function f(t){return u.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function p(t){this.length=t,this.promise=null,this[t-1]=null}var h=Ps,d=sc.TypeError,_=Ps.inherits,v=h.errorObj,y=h.tryCatch,m={};u.prototype.data=function(){return this._data},u.prototype.promise=function(){return this._promise},u.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():m},u.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==m?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},u.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},_(l,u),l.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},p.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var r=this[n];r instanceof t&&r.cancel()}},t.using=function(){var r=arguments.length;if(r<2)return e("you must pass at least 2 arguments to Promise.using");var i=arguments[r-1];if("function"!=typeof i)return e("expecting a function but got "+h.classString(i));var a,s=!0;2===r&&Array.isArray(arguments[0])?(a=arguments[0],r=a.length,s=!1):(a=arguments,r--);for(var l=new p(r),d=0;d<r;++d){var _=a[d];if(u.isDisposer(_)){var m=_;_=_.promise(),_._setDisposable(m)}else{var g=n(_);g instanceof t&&(_=g._then(f,null,null,{resources:l,index:d},void 0))}l[d]=_}for(var b=new Array(l.length),d=0;d<b.length;++d)b[d]=t.resolve(l[d]).reflect();var w=t.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return v.e=n.error(),v;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}j._pushContext(),i=y(i);var r=s?i.apply(void 0,t):i(t),a=j._popContext();return o.checkForgottenReturns(r,a,"Promise.using",j),r}),j=w.lastly(function(){var e=new t.PromiseInspection(w);return c(l,e)});return l.promise=j,j._setOnCancel(l),j},t.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(t){if("function"==typeof t)return new l(t,this,r());throw new d}},Rc=function(t,e,n){function r(t){this.handle=t}function i(t){return clearTimeout(this.handle),t}function o(t){throw clearTimeout(this.handle),t}var a=Ps,s=t.TimeoutError;r.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(t){return u(+this).thenReturn(t)},u=t.delay=function(i,o){var a,s;return void 0!==o?(a=t.resolve(o)._then(c,null,null,i,void 0),n.cancellation()&&o instanceof t&&a._setOnCancel(o)):(a=new t(e),s=setTimeout(function(){a._fulfill()},+i),n.cancellation()&&a._setOnCancel(new r(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};t.prototype.delay=function(t){return u(t,this)};var l=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new s("operation timed out"):new s(e),a.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};t.prototype.timeout=function(t,e){t=+t;var a,s,c=new r(setTimeout(function(){a.isPending()&&l(a,e,s)},t));return n.cancellation()?(s=this.then(),a=s._then(i,o,void 0,c,void 0),a._setOnCancel(c)):a=this._then(i,o,void 0,c,void 0),a}},Lc=function(t,e,n,r,i,o){function a(e,n,i){for(var o=0;o<n.length;++o){i._pushContext();var a=p(n[o])(e);if(i._popContext(),a===f){i._pushContext();var s=t.reject(f.e);return i._popContext(),s}var c=r(a,i);if(c instanceof t)return c}return null}function s(e,r,i,a){if(o.cancellation()){var s=new t(n),c=this._finallyPromise=new t(n);this._promise=s.lastly(function(){return c}),s._captureStackTrace(),s._setOnCancel(this)}else{var u=this._promise=new t(n);u._captureStackTrace()}this._stack=a,this._generatorFunction=e,this._receiver=r,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}var c=sc,u=c.TypeError,l=Ps,f=l.errorObj,p=l.tryCatch,h=[];l.inherits(s,i),s.prototype._isResolved=function(){return null===this._promise},s.prototype._cleanup=function(){this._promise=this._generator=null,o.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},s.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,n="undefined"!=typeof this._generator.return;if(n)this._promise._pushContext(),e=p(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var r=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),e=p(this._generator.throw).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},s.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=p(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},s.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=p(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},s.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},s.prototype.promise=function(){return this._promise},s.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},s.prototype._continue=function(e){var n=this._promise;if(e===f)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var i=e.value;if(e.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(i);var o=r(i,this._promise);if(!(o instanceof t)&&(o=a(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",i)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var s=o._bitField;0===(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&s)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&s)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},t.coroutine=function(t,e){if("function"!=typeof t)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=s,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=e,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new u("expecting a function but got "+l.classString(t));h.push(t)},t.spawn=function(n){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof n)return e("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new s(n,this),i=r.promise();return r._run(t.spawn),i}},Mc=function(t){function e(t,e){var r=this;if(!i.isArray(t))return n.call(r,t,e);var c=a(e).apply(r._boundValue(),[null].concat(t));c===s&&o.throwLater(c.e)}function n(t,e){var n=this,r=n._boundValue(),i=void 0===t?a(e).call(r,null):a(e).call(r,null,t);i===s&&o.throwLater(i.e)}function r(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=a(e).call(n._boundValue(),t);i===s&&o.throwLater(i.e)}var i=Ps,o=t._async,a=i.tryCatch,s=i.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(t,i){if("function"==typeof t){var o=n;void 0!==i&&Object(i).spread&&(o=e),this._then(o,r,void 0,this,t)}return this}},Nc=function(t,e){function n(t){return!w.test(t)}function r(t){try{return t.__isPromisified__===!0}catch(t){return!1}}function i(t,e,n){var i=p.getDataPropertyOrDefault(t,e+n,g);return!!i&&r(i)}function o(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===o)throw new y("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function a(t,e,n,a){for(var s=p.inheritedDataKeys(t),c=[],u=0;u<s.length;++u){var l=s[u],f=t[l],h=a===j||j(l,f,t);"function"!=typeof f||r(f)||i(t,l,e)||!a(l,f,t,h)||c.push(l,f)}return o(c,e,n),c}function s(n,r,i,o,a,s){function c(){var i=r;r===f&&(i=this);var o=new t(e);o._captureStackTrace();var a="string"==typeof l&&this!==u?this[l]:n,c=h(o,s);try{a.apply(i,d(arguments,c))}catch(t){o._rejectCallback(_(t),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var u=function(){return this}(),l=n;return"string"==typeof l&&(n=o),p.notEnumerableProp(c,"__isPromisified__",!0),c}function c(t,e,n,r,i){for(var o=new RegExp(k(e)+"$"),s=a(t,e,o,n),c=0,u=s.length;c<u;c+=2){var l=s[c],h=s[c+1],d=l+e;if(r===O)t[d]=O(l,f,l,h,e,i);else{var _=r(h,function(){return O(l,f,l,h,e,i)});p.notEnumerableProp(_,"__isPromisified__",!0),t[d]=_}}return p.toFastProperties(t),t}function u(t,e,n){return O(t,e,void 0,t,null,n)}var l,f={},p=Ps,h=bc,d=p.withAppended,_=p.maybeWrapAsError,v=p.canEvaluate,y=sc.TypeError,m="Async",g={__isPromisified__:!0},b=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],w=new RegExp("^(?:"+b.join("|")+")$"),j=function(t){return p.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},k=function(t){return t.replace(/([$])/,"\\$")},C=function(t){for(var e=[t],n=Math.max(0,t-1-3),r=t-1;r>=n;--r)e.push(r);for(var r=t+1;r<=3;++r)e.push(r);return e},E=function(t){return p.filledRange(t,"_arg","")},F=function(t){return p.filledRange(Math.max(t,3),"_arg","")},x=function(t){return"number"==typeof t.length?Math.max(Math.min(t.length,1024),0):0};l=function(n,r,i,o,a,s){function c(t){var e,n=E(t).join(", "),i=t>0?", ":"";return e=y?"ret = callback.call(this, {{args}}, nodeback); break;\n":void 0===r?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n",e.replace("{{args}}",n).replace(", ",i)}function u(){for(var t="",e=0;e<v.length;++e)t+="case "+v[e]+":"+c(v[e]);return t+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",y?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n");
}var l=Math.max(0,x(o)-1),v=C(l),y="string"==typeof n||r===f,m="string"==typeof n?"this != null ? this['"+n+"'] : fn":"fn",g="'use strict';                                                \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise, "+s+");   \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n    ".replace("[CodeForSwitchCase]",u()).replace("[GetFunctionCode]",m);return g=g.replace("Parameters",F(l)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",g)(t,o,r,d,_,h,p.tryCatch,p.errorObj,p.notEnumerableProp,e)};var O=v?l:s;t.promisify=function(t,e){if("function"!=typeof t)throw new y("expecting a function but got "+p.classString(t));if(r(t))return t;e=Object(e);var i=void 0===e.context?f:e.context,o=!!e.multiArgs,a=u(t,i,o);return p.copyDescriptors(t,a,n),a},t.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new y("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r=m);var i=e.filter;"function"!=typeof i&&(i=j);var o=e.promisifier;if("function"!=typeof o&&(o=O),!p.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=p.inheritedDataKeys(t),s=0;s<a.length;++s){var u=t[a[s]];"constructor"!==a[s]&&p.isClass(u)&&(c(u.prototype,r,i,o,n),c(u,r,i,o,n))}return c(t,r,i,o,n)}},Ic=function(t,e,n,r){function i(t){var e,n=!1;if(void 0!==a&&t instanceof a)e=l(t),n=!0;else{var r=u.keys(t),i=r.length;e=new Array(2*i);for(var o=0;o<i;++o){var s=r[o];e[o]=t[s],e[o+i]=s}}this.constructor$(e),this._isMap=n,this._init$(void 0,-3)}function o(e){var o,a=n(e);return c(a)?(o=a instanceof t?a._then(t.props,void 0,void 0,void 0,void 0):new i(a).promise(),a instanceof t&&o._propagateFrom(a,2),o):r("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var a,s=Ps,c=s.isObject,u=_s;"function"==typeof Map&&(a=Map);var l=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),f=function(t){for(var e=new a,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};s.inherits(i,e),i.prototype._init=function(){},i.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=f(this._values);else{r={};for(var i=this.length(),o=0,a=this.length();o<a;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},i.prototype.shouldCopyValues=function(){return!1},i.prototype.getActualLength=function(t){return t>>1},t.prototype.props=function(){return o(this)},t.props=function(t){return o(t)}},Dc=function(t,e,n,r){function i(i,s){var c=n(i);if(c instanceof t)return a(c);if(i=o.asArray(i),null===i)return r("expecting an array or an iterable object but got "+o.classString(i));var u=new t(e);void 0!==s&&u._propagateFrom(s,3);for(var l=u._fulfill,f=u._reject,p=0,h=i.length;p<h;++p){var d=i[p];(void 0!==d||p in i)&&t.cast(d)._then(l,f,void 0,u,null)}return u}var o=Ps,a=function(t){return t.then(function(e){return i(e,t)})};t.race=function(t){return i(t,void 0)},t.prototype.race=function(){return i(this,void 0)}},Bc=function(t,e,n,r,i,o){function a(e,n,r,o){this.constructor$(e);var a=f();this._fn=null===a?n:p.domainBind(a,n),void 0!==r&&(r=t.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,o===i?this._eachValues=Array(this._length):0===o?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function s(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function c(t,e,r,i){if("function"!=typeof e)return n("expecting a function but got "+p.classString(e));var o=new a(t,e,r,i);return o.promise()}function u(e){this.accum=e,this.array._gotAccum(e);var n=r(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(l,void 0,void 0,this,void 0)):l.call(this,n)}function l(e){var n=this.array,r=n._promise,i=h(n._fn);r._pushContext();var a;a=void 0!==n._eachValues?i.call(r._boundValue(),e,this.index,this.length):i.call(r._boundValue(),this.accum,e,this.index,this.length),a instanceof t&&(n._currentCancellable=a);var s=r._popContext();return o.checkForgottenReturns(a,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),a}var f=t._getDomain,p=Ps,h=p.tryCatch;p.inherits(a,e),a.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==i&&this._eachValues.push(t)},a.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},a.prototype._init=function(){},a.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},a.prototype.shouldCopyValues=function(){return!1},a.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},a.prototype._resultCancelled=function(e){return e===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel()))},a.prototype._iterate=function(e){this._values=e;var n,r,i=e.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=t.resolve(e[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:e[r],index:r,length:i,array:this};n=n._then(u,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(s,s,void 0,n,this)},t.prototype.reduce=function(t,e){return c(this,t,e,null)},t.reduce=function(t,e,n,r){return c(t,e,n,r)}},Uc=function(t,e,n){function r(t){this.constructor$(t)}var i=t.PromiseInspection,o=Ps;o.inherits(r,e),r.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},r.prototype._promiseFulfilled=function(t,e){var n=new i;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},r.prototype._promiseRejected=function(t,e){var n=new i;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},t.settle=function(t){return n.deprecated(".settle()",".reflect()"),new r(t).promise()},t.prototype.settle=function(){return t.settle(this)}},Vc=function(t,e,n){function r(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function i(t,e){if((0|e)!==e||e<0)return n("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new r(t),o=i.promise();return i.setHowMany(e),i.init(),o}var o=Ps,a=sc.RangeError,s=sc.AggregateError,c=o.isArray,u={};o.inherits(r,e),r.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},r.prototype.init=function(){this._initialized=!0,this._init()},r.prototype.setUnwrap=function(){this._unwrap=!0},r.prototype.howMany=function(){return this._howMany},r.prototype.setHowMany=function(t){this._howMany=t},r.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},r.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},r.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},r.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new s,e=this.length();e<this._values.length;++e)this._values[e]!==u&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},r.prototype._fulfilled=function(){return this._totalResolved},r.prototype._rejected=function(){return this._values.length-this.length()},r.prototype._addRejected=function(t){this._values.push(t)},r.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},r.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},r.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},r.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(t,e){return i(t,e)},t.prototype.some=function(t){return i(this,t)},t._SomePromiseArray=r},Hc=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}},zc=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return i(this,t,e,0)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,r){return i(t,r,e,0)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r},$c=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}},qc=l(function(t){t.exports=function(){function e(){}function n(t,e){if("function"!=typeof e)throw new y("expecting a function but got "+p.classString(e));if(t.constructor!==r)throw new y("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function r(t){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,t!==g&&(n(this,t),this._resolveFromExecutor(t)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function i(t){this.promise._resolveCallback(t)}function o(t){this.promise._rejectCallback(t,!1)}function a(t){var e=new r(g);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var s,c=function(){return new y("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},u=function(){return new r.PromiseInspection(this._target())},l=function(t){return r.reject(new y(t))},f={},p=Ps;s=p.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},p.notEnumerableProp(r,"_getDomain",s);var h=_s,d=$s,_=new d;h.defineProperty(r,"_async",{value:_});var v=sc,y=r.TypeError=v.TypeError;r.RangeError=v.RangeError;var m=r.CancellationError=v.CancellationError;r.TimeoutError=v.TimeoutError,r.OperationalError=v.OperationalError,r.RejectionError=v.OperationalError,r.AggregateError=v.AggregateError;var g=function(){},b={},w={},j=cc(r,g),k=uc(r,g,j,l,e),C=lc(r),E=C.create,F=fc(r,C),x=(F.CapturedTrace,pc(r,j)),O=hc(w),T=bc,P=p.errorObj,S=p.tryCatch;return r.prototype.toString=function(){return"[object Promise]"},r.prototype.caught=r.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var o=arguments[n];if(!p.isObject(o))return l("expecting an object but got A catch statement predicate "+p.classString(o));r[i++]=o}return r.length=i,t=arguments[n],this.then(void 0,O(r,t,this))}return this.then(void 0,t)},r.prototype.reflect=function(){return this._then(u,u,void 0,this,void 0)},r.prototype.then=function(t,e){if(F.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+p.classString(t);arguments.length>1&&(n+=", "+p.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},r.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},r.prototype.spread=function(t){return"function"!=typeof t?l("expecting a function but got "+p.classString(t)):this.all()._then(t,void 0,void 0,b,void 0)},r.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},r.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new k(this).promise()},r.prototype.error=function(t){return this.caught(p.originatesFromRejection,t)},r.getNewLibraryCopy=t.exports,r.is=function(t){return t instanceof r},r.fromNode=r.fromCallback=function(t){var e=new r(g);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,i=S(t)(T(e,n));return i===P&&e._rejectCallback(i.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},r.all=function(t){return new k(t).promise()},r.cast=function(t){var e=j(t);return e instanceof r||(e=new r(g),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},r.resolve=r.fulfilled=r.cast,r.reject=r.rejected=function(t){var e=new r(g);return e._captureStackTrace(),e._rejectCallback(t,!0),e},r.setScheduler=function(t){if("function"!=typeof t)throw new y("expecting a function but got "+p.classString(t));return _.setScheduler(t)},r.prototype._then=function(t,e,n,i,o){var a=void 0!==o,c=a?o:new r(g),u=this._target(),l=u._bitField;a||(c._propagateFrom(this,3),c._captureStackTrace(),void 0===i&&0!==(2097152&this._bitField)&&(i=0!==(50397184&l)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,c));var f=s();if(0!==(50397184&l)){var h,d,v=u._settlePromiseCtx;0!==(33554432&l)?(d=u._rejectionHandler0,h=t):0!==(16777216&l)?(d=u._fulfillmentHandler0,h=e,u._unsetRejectionIsUnhandled()):(v=u._settlePromiseLateCancellationObserver,d=new m("late cancellation observer"),u._attachExtraTrace(d),h=e),_.invoke(v,u,{handler:null===f?h:"function"==typeof h&&p.domainBind(f,h),promise:c,receiver:i,value:d})}else u._addCallbacks(t,e,c,i,f);return c},r.prototype._length=function(){return 65535&this._bitField},r.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},r.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},r.prototype._setLength=function(t){this._bitField=this._bitField&-65536|65535&t},r.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},r.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},r.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},r.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},r.prototype._isFinal=function(){return(4194304&this._bitField)>0},r.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},r.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},r.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},r.prototype._setAsyncGuaranteed=function(){_.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},r.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==f)return void 0===e&&this._isBound()?this._boundValue():e},r.prototype._promiseAt=function(t){return this[4*t-4+2]},r.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},r.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},r.prototype._boundValue=function(){},r.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=f),this._addCallbacks(e,n,r,i,null)},r.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=f),this._addCallbacks(n,r,i,o,null)},r.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:p.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:p.domainBind(i,e));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof t&&(this[a+0]=null===i?t:p.domainBind(i,t)),"function"==typeof e&&(this[a+1]=null===i?e:p.domainBind(i,e))}return this._setLength(o+1),o},r.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},r.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(c(),!1);var n=j(t,this);if(!(n instanceof r))return this._fulfill(t);e&&this._propagateFrom(n,2);var i=n._target();if(i===this)return void this._reject(c());var o=i._bitField;if(0===(50397184&o)){var a=this._length();a>0&&i._migrateCallback0(this);for(var s=1;s<a;++s)i._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else if(0!==(33554432&o))this._fulfill(i._value());else if(0!==(16777216&o))this._reject(i._reason());else{var u=new m("late cancellation observer");i._attachExtraTrace(u),this._reject(u)}}},r.prototype._rejectCallback=function(t,e,n){var r=p.ensureErrorObject(t),i=r===t;if(!i&&!n&&F.warnings()){var o="a promise was rejected with a non-error: "+p.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},r.prototype._resolveFromExecutor=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)},r.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;e===b?n&&"number"==typeof n.length?o=S(t).apply(this._boundValue(),n):(o=P,o.e=new y("cannot .spread() a non-array: "+p.classString(n))):o=S(t).call(e,n);var a=r._popContext();i=r._bitField,0===(65536&i)&&(o===w?r._reject(n):o===P?r._rejectCallback(o.e,!1):(F.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},r.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},r.prototype._followee=function(){return this._rejectionHandler0},r.prototype._setFollowee=function(t){this._rejectionHandler0=t},r.prototype._settlePromise=function(t,n,i,o){var a=t instanceof r,s=this._bitField,c=0!==(134217728&s);0!==(65536&s)?(a&&t._invokeInternalOnCancel(),i instanceof x&&i.isFinallyHandler()?(i.cancelPromise=t,S(n).call(i,o)===P&&t._reject(P.e)):n===u?t._fulfill(u.call(i)):i instanceof e?i._promiseCancelled(t):a||t instanceof k?t._cancel():i.cancel()):"function"==typeof n?a?(c&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(n,i,o,t)):n.call(i,o,t):i instanceof e?i._isResolved()||(0!==(33554432&s)?i._promiseFulfilled(o,t):i._promiseRejected(o,t)):a&&(c&&t._setAsyncGuaranteed(),0!==(33554432&s)?t._fulfill(o):t._reject(o))},r.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,i=t.receiver,o=t.value;"function"==typeof e?n instanceof r?this._settlePromiseFromHandler(e,i,o,n):e.call(i,o,n):n instanceof r&&n._reject(o)},r.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},r.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},r.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},r.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=c();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():_.settlePromises(this))}},r.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?_.fatalError(t,p.isNode):void((65535&e)>0?_.settlePromises(this):this._ensurePossibleRejectionHandled())},r.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},r.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},r.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},r.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},r.defer=r.pending=function(){F.deprecated("Promise.defer","new Promise");var t=new r(g);return{promise:t,resolve:i,reject:o}},p.notEnumerableProp(r,"_makeSelfResolutionError",c),wc(r,g,j,l,F),jc(r,g,j,F),kc(r,k,l,F),Cc(r),Ec(r),Fc(r,k,j,g,_,s),r.Promise=r,r.version="3.4.6",xc(r,k,l,j,g,F),Sc(r),Ac(r,l,j,E,g,F),Rc(r,g,F),Lc(r,l,g,j,e,F),Mc(r),Nc(r,g),Ic(r,k,j,l),Dc(r,g,j,l),Bc(r,k,l,j,g,F),Uc(r,k,F),Vc(r,k,l),Hc(r,g),zc(r,g),$c(r),p.toFastProperties(r),p.toFastProperties(r.prototype),a({a:1}),a({b:2}),a({c:3}),a(1),a(function(){}),a(void 0),a(!1),a(new r(g)),F.setBounds(d.firstLineError,p.lastLineError),r}}),Gc;"undefined"!=typeof Promise&&(Gc=Promise);var Wc=qc();Wc.noConflict=q;var Qc=Wc,Xc=1e3,Kc=60*Xc,Jc=60*Kc,Yc=24*Jc,Zc=365.25*Yc,tu=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return G(t);if("number"===n&&isNaN(t)===!1)return e.long?Q(t):W(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))},eu=l(function(t,e){function n(){return e.colors[u++%e.colors.length]}function r(t){function r(){}function i(){var t=i,r=+new Date,o=r-(c||r);t.diff=o,t.prev=c,t.curr=r,c=r,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=n());for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var u=0;a[0]=a[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;u++;var i=e.formatters[r];if("function"==typeof i){var o=a[u];n=i.call(t,o),a.splice(u,1),u--}return n}),a=e.formatArgs.apply(t,a);var l=i.log||e.log||console.log.bind(console);l.apply(t,a)}r.enabled=!1,i.enabled=!0;var o=e.enabled(t)?i:r;return o.namespace=t,o}function i(t){e.save(t);for(var n=(t||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&(t=n[i].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function o(){e.enable("")}function a(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1}function s(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=r.debug=r,e.coerce=s,e.disable=o,e.enable=i,e.enabled=a,e.humanize=tu,e.names=[],e.skips=[],e.formatters={};var c,u=0}),nu=l(function(t,e){function n(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var t=arguments,n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return t;var r="color: "+this.color;t=[t[0],r,"color: inherit"].concat(Array.prototype.slice.call(t,1));var i=0,o=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,r),t}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function a(){try{return e.storage.debug}catch(t){}if("undefined"!=typeof process&&"env"in process)return process.env.DEBUG}function s(){try{return window.localStorage}catch(t){}}e=t.exports=eu,e.log=i,e.formatArgs=r,e.save=o,e.load=a,e.useColors=n,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:s(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(a())}),ru=l(function(t,e){function n(){var t=(process.env.DEBUG_COLORS||"").trim().toLowerCase();return 0===t.length?p.isatty(d):"0"!==t&&"no"!==t&&"false"!==t&&"disabled"!==t}function r(){for(var t=arguments.length,n=new Array(t),r=this.useColors,i=this.namespace,o=0;o<t;o++)n[o]=arguments[o];if(r){var a=this.color;n[0]="  [3"+a+";1m"+i+" [0m"+n[0],n.push("[3"+a+"m+"+e.humanize(this.diff)+"[0m")}else n[0]=(new Date).toUTCString()+" "+i+" "+n[0];return n}function i(){return _.write(h.format.apply(this,arguments)+"\n")}function u(t){null==t?delete process.env.DEBUG:process.env.DEBUG=t}function l(){return process.env.DEBUG}function f(t){var e,n=process.binding("tty_wrap");switch(n.guessHandleType(t)){case"TTY":e=new p.WriteStream(t),e._type="tty",e._handle&&e._handle.unref&&e._handle.unref();break;case"FILE":var r=s;e=new r.SyncWriteStream(t,{autoClose:!1}),e._type="fs";break;case"PIPE":case"TCP":var i=c;e=new i.Socket({fd:t,readable:!1,writable:!0}),e.readable=!1,e.read=null,e._type="pipe",e._handle&&e._handle.unref&&e._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return e.fd=t,e._isStdio=!0,e}var p=o,h=a;e=t.exports=eu,e.log=i,e.formatArgs=r,e.save=u,e.load=l,e.useColors=n,e.colors=[6,2,3,4,5,1];var d=parseInt(process.env.DEBUG_FD,10)||2,_=1===d?process.stdout:2===d?process.stderr:f(d),v=4===h.inspect.length?function(t,e){return h.inspect(t,void 0,void 0,e)}:function(t,e){return h.inspect(t,{colors:e})};e.formatters.o=e.formatters.O=function(t){return v(t,this.useColors).replace(/\s*\n\s*/g," ")},e.enable(l())}),iu=l(function(t){"undefined"!=typeof process&&"renderer"===process.type?t.exports=nu:t.exports=ru}),ou=Sn,au=An,su=function(t,e,n){e in t?ou.f(t,e,au(0,n)):t[e]=n},cu=hn,uu=Hn,lu=ge,fu=Ci,pu=Oi,hu=Le,du=su,_u=Ai;uu(uu.S+uu.F*!jo(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,i,o=lu(t),a="function"==typeof this?this:Array,s=arguments.length,c=s>1?arguments[1]:void 0,u=void 0!==c,l=0,f=_u(o);if(u&&(c=cu(c,s>2?arguments[2]:void 0,2)),void 0==f||a==Array&&pu(f))for(e=hu(o.length),n=new a(e);e>l;l++)du(n,l,u?c(o[l],l):o[l]);else for(i=f.call(o),n=new a;!(r=i.next()).done;l++)du(n,l,u?fu(i,c,[r.value,l],!0):r.value);return n.length=l,n}});var vu=ln.Array.from,yu=l(function(t){t.exports={default:vu,__esModule:!0}}),mu=l(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=yu,i=n(r);e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,i.default)(t)}}),gu=u(mu),bu=wi,wu=kr("iterator"),ju=ur,ku=ln.isIterable=function(t){var e=Object(t);return void 0!==e[wu]||"@@iterator"in e||ju.hasOwnProperty(bu(e))},Cu=ku,Eu=l(function(t){t.exports={default:Cu,__esModule:!0}}),Fu=vn,xu=Ai,Ou=ln.getIterator=function(t){var e=xu(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return Fu(e.call(t))},Tu=Ou,Pu=l(function(t){t.exports={default:Tu,__esModule:!0}}),Su=l(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=Eu,i=n(r),o=Pu,a=n(o);e.default=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,c=(0,a.default)(t);!(r=(s=c.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,i.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()}),Au=u(Su),Ru=K,Lu=iu("uci:EngineChain"),Mu=["init","setoption","isready","ucinewgame","quit","position","go"],Nu=function(){function t(e){var n=this;if(cs(this,t),!(e&&e instanceof fv))throw new Error("EngineChain requires a valid Engine.");Lu("chain init"),this._engine=e,this._queue=[],Mu.forEach(function(t){n[t]=n.chain(t)})}return ds(t,[{key:"chain",value:function(t){var e=this;return function(){var n;return this._queue.push([(n=e._engine)[t].bind(n),[].concat(Array.prototype.slice.call(arguments))]),"go"===t?this.exec():this}}},{key:"exec",value:function(){function t(){return e.apply(this,arguments)}var e=oa(rr.mark(function t(){var e;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qc.mapSeries(this._queue,function(t){var e=Au(t,2),n=e[0],r=e[1];return n.apply(void 0,gu(r))});case 2:return e=t.sent,this._queue=[],t.abrupt("return",Ru(e));case 5:case"end":return t.stop()}},t,this)}));return t}()}]),t}(),Iu=Array.isArray,Du=Iu,Bu="object"==typeof ve&&ve&&ve.Object===Object&&ve,Uu=Bu,Vu=Uu,Hu="object"==typeof self&&self&&self.Object===Object&&self,zu=Vu||Hu||Function("return this")(),$u=zu,qu=$u,Gu=qu.Symbol,Wu=Gu,Qu=Wu,Xu=Object.prototype,Ku=Xu.hasOwnProperty,Ju=Xu.toString,Yu=Qu?Qu.toStringTag:void 0,Zu=Y,tl=Object.prototype,el=tl.toString,nl=Z,rl=Wu,il=Zu,ol=nl,al="[object Null]",sl="[object Undefined]",cl=rl?rl.toStringTag:void 0,ul=tt,ll=et,fl=ul,pl=ll,hl="[object Symbol]",dl=nt,_l=Du,vl=dl,yl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ml=/^\w*$/,gl=rt,bl=it,wl=ul,jl=bl,kl="[object AsyncFunction]",Cl="[object Function]",El="[object GeneratorFunction]",Fl="[object Proxy]",xl=ot,Ol=$u,Tl=Ol["__core-js_shared__"],Pl=Tl,Sl=Pl,Al=function(){var t=/[^.]+$/.exec(Sl&&Sl.keys&&Sl.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Rl=at,Ll=Function.prototype,Ml=Ll.toString,Nl=st,Il=xl,Dl=Rl,Bl=bl,Ul=Nl,Vl=/[\\^$.*+?()[\]{}|]/g,Hl=/^\[object .+?Constructor\]$/,zl=Function.prototype,$l=Object.prototype,ql=zl.toString,Gl=$l.hasOwnProperty,Wl=RegExp("^"+ql.call(Gl).replace(Vl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ql=ct,Xl=ut,Kl=Ql,Jl=Xl,Yl=lt,Zl=Yl,tf=Zl(Object,"create"),ef=tf,nf=ef,rf=ft,of=pt,af=ef,sf="__lodash_hash_undefined__",cf=Object.prototype,uf=cf.hasOwnProperty,lf=ht,ff=ef,pf=Object.prototype,hf=pf.hasOwnProperty,df=dt,_f=ef,vf="__lodash_hash_undefined__",yf=_t,mf=rf,gf=of,bf=lf,wf=df,jf=yf;
vt.prototype.clear=mf,vt.prototype.delete=gf,vt.prototype.get=bf,vt.prototype.has=wf,vt.prototype.set=jf;var kf=vt,Cf=yt,Ef=mt,Ff=Ef,xf=gt,Of=xf,Tf=Array.prototype,Pf=Tf.splice,Sf=bt,Af=xf,Rf=wt,Lf=xf,Mf=jt,Nf=xf,If=kt,Df=Cf,Bf=Sf,Uf=Rf,Vf=Mf,Hf=If;Ct.prototype.clear=Df,Ct.prototype.delete=Bf,Ct.prototype.get=Uf,Ct.prototype.has=Vf,Ct.prototype.set=Hf;var zf=Ct,$f=Yl,qf=$u,Gf=$f(qf,"Map"),Wf=Gf,Qf=kf,Xf=zf,Kf=Wf,Jf=Et,Yf=Ft,Zf=Yf,tp=xt,ep=tp,np=Ot,rp=tp,ip=Tt,op=tp,ap=Pt,sp=tp,cp=St,up=Jf,lp=np,fp=ip,pp=ap,hp=cp;At.prototype.clear=up,At.prototype.delete=lp,At.prototype.get=fp,At.prototype.has=pp,At.prototype.set=hp;var dp=At,_p=dp,vp="Expected a function";Rt.Cache=_p;var yp=Rt,mp=yp,gp=500,bp=Lt,wp=bp,jp=/^\./,kp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cp=/\\(\\)?/g,Ep=wp(function(t){var e=[];return jp.test(t)&&e.push(""),t.replace(kp,function(t,n,r,i){e.push(r?i.replace(Cp,"$1"):n||t)}),e}),Fp=Ep,xp=Mt,Op=Wu,Tp=xp,Pp=Du,Sp=dl,Ap=1/0,Rp=Op?Op.prototype:void 0,Lp=Rp?Rp.toString:void 0,Mp=Nt,Np=Mp,Ip=It,Dp=Du,Bp=gl,Up=Fp,Vp=Ip,Hp=Dt,zp=dl,$p=1/0,qp=Bt,Gp=Hp,Wp=qp,Qp=Ut,Xp=Qp,Kp=Vt,Jp={cmdType:/^(id|option|uciok$|info|bestmove)/,id:/^id (name|author) (.+)$/,option:/^option name (.+) type (\w+)(?: default ([A-Za-z0-9._\\\:<>\/]+))?(?: min (-?\w+))?(?: max (-?\w+))?(?: var (.+))*$/,bestmove:/^bestmove ([A-Za-z0-9\(\)]+)(?: ponder (\w+))?$/,info:{depth:/\bdepth (\d+)/,seldepth:/\bseldepth (\d+)/,time:/\btime (\d+)/,nodes:/\bnodes (\d+)/,currmove:/\bcurrmove (\w+)/,currmovenumber:/\bcurrmovenumber (\d+)/,hashfull:/\bhashfull (\d+)/,nps:/\bnps (\d+)/,tbhits:/\btbhits (\d+)/,cpuload:/\bcpuload (\d+)/,score:/\bscore (cp|mate|lowerbound|upperbound) (-?\d+)/,multipv:/\bmultipv (\d+)/,pv:/\bpv (.+)/,string:/\bstring (.+)/,refutation:/\brefutation (.+)/,currline:/\bcurrline (.+)/}},Yp=["depth","seldepth","time","nodes","currmovenumber","hashfull","nps","tbhits","cpuload","multipv"],Zp=l(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=ps,i=n(r);e.default=function(t,e,n){return e in t?(0,i.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}}),th=u(Zp),eh=qt,nh=Gt,rh=nh,ih=rh(),oh=ih,ah=Wt,sh=ul,ch=ll,uh="[object Arguments]",lh=Qt,fh=lh,ph=ll,hh=Object.prototype,dh=hh.hasOwnProperty,_h=hh.propertyIsEnumerable,vh=fh(function(){return arguments}())?fh:function(t){return ph(t)&&dh.call(t,"callee")&&!_h.call(t,"callee")},yh=vh,mh=Xt,gh=l(function(t,e){var n=$u,r=mh,i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,c=s?s.isBuffer:void 0,u=c||r;t.exports=u}),bh=9007199254740991,wh=/^(?:0|[1-9]\d*)$/,jh=Kt,kh=9007199254740991,Ch=Jt,Eh=ul,Fh=Ch,xh=ll,Oh="[object Arguments]",Th="[object Array]",Ph="[object Boolean]",Sh="[object Date]",Ah="[object Error]",Rh="[object Function]",Lh="[object Map]",Mh="[object Number]",Nh="[object Object]",Ih="[object RegExp]",Dh="[object Set]",Bh="[object String]",Uh="[object WeakMap]",Vh="[object ArrayBuffer]",Hh="[object DataView]",zh="[object Float32Array]",$h="[object Float64Array]",qh="[object Int8Array]",Gh="[object Int16Array]",Wh="[object Int32Array]",Qh="[object Uint8Array]",Xh="[object Uint8ClampedArray]",Kh="[object Uint16Array]",Jh="[object Uint32Array]",Yh={};Yh[zh]=Yh[$h]=Yh[qh]=Yh[Gh]=Yh[Wh]=Yh[Qh]=Yh[Xh]=Yh[Kh]=Yh[Jh]=!0,Yh[Oh]=Yh[Th]=Yh[Vh]=Yh[Ph]=Yh[Hh]=Yh[Sh]=Yh[Ah]=Yh[Rh]=Yh[Lh]=Yh[Mh]=Yh[Nh]=Yh[Ih]=Yh[Dh]=Yh[Bh]=Yh[Uh]=!1;var Zh=Yt,td=Zt,ed=l(function(t,e){var n=Uu,r="object"==typeof e&&e&&!e.nodeType&&e,i=r&&"object"==typeof t&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{return a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}),nd=Zh,rd=td,id=ed,od=id&&id.isTypedArray,ad=od?rd(od):nd,sd=ad,cd=ah,ud=yh,ld=Du,fd=gh,pd=jh,hd=sd,dd=Object.prototype,_d=dd.hasOwnProperty,vd=te,yd=Object.prototype,md=ee,gd=ne,bd=gd,wd=bd(Object.keys,Object),jd=wd,kd=md,Cd=jd,Ed=Object.prototype,Fd=Ed.hasOwnProperty,xd=re,Od=xl,Td=Ch,Pd=ie,Sd=vd,Ad=xd,Rd=Pd,Ld=oe,Md=oh,Nd=Ld,Id=ae,Dd=Pd,Bd=se,Ud=Id,Vd=Bd,Hd=Vd(Ud),zd=Hd,$d=ce,qd=$d,Gd=ue,Wd=eh,Qd=zd,Xd=Gd,Kd=Du,Jd=le,Yd=Yl,Zd=$u,t_=Yd(Zd,"DataView"),e_=t_,n_=Yl,r_=$u,i_=n_(r_,"Promise"),o_=i_,a_=Yl,s_=$u,c_=a_(s_,"Set"),u_=c_,l_=Yl,f_=$u,p_=l_(f_,"WeakMap"),h_=p_,d_=e_,__=Wf,v_=o_,y_=u_,m_=h_,g_=ul,b_=Nl,w_="[object Map]",j_="[object Object]",k_="[object Promise]",C_="[object Set]",E_="[object WeakMap]",F_="[object DataView]",x_=b_(d_),O_=b_(__),T_=b_(v_),P_=b_(y_),S_=b_(m_),A_=g_;(d_&&A_(new d_(new ArrayBuffer(1)))!=F_||__&&A_(new __)!=w_||v_&&A_(v_.resolve())!=k_||y_&&A_(new y_)!=C_||m_&&A_(new m_)!=E_)&&(A_=function(t){var e=g_(t),n=e==j_?t.constructor:void 0,r=n?b_(n):"";if(r)switch(r){case x_:return F_;case O_:return w_;case T_:return k_;case P_:return C_;case S_:return E_}return e});var R_=A_,L_=xd,M_=R_,N_=yh,I_=Du,D_=Pd,B_=gh,U_=md,V_=sd,H_="[object Map]",z_="[object Set]",$_=Object.prototype,q_=$_.hasOwnProperty,G_=fe,W_=Object.getOwnPropertySymbols,Q_={f:W_},X_={}.propertyIsEnumerable,K_={f:X_},J_=un,Y_=Q_,Z_=K_,tv=ge,ev=Ee,nv=Object.assign,rv=!nv||yn(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=nv({},t)[n]||Object.keys(nv({},e)).join("")!=r})?function(t,e){for(var n=tv(t),r=arguments.length,i=1,o=Y_.f,a=Z_.f;r>i;)for(var s,c=ev(arguments[i++]),u=o?J_(c).concat(o(c)):J_(c),l=u.length,f=0;l>f;)a.call(c,s=u[f++])&&(n[s]=c[s]);return n}:nv,iv=Hn;iv(iv.S+iv.F,"Object",{assign:rv});var ov=ln.Object.assign,av=l(function(t){t.exports={default:ov,__esModule:!0}}),sv=l(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=av,i=n(r);e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}}),cv=u(sv),uv=iu("uci:Engine"),lv=iu("uci:Engine:log"),fv=function(){function t(e){cs(this,t),this.filePath=n.normalize(e),this.id={name:null,author:null},this.options=new as}return ds(t,[{key:"getBufferUntil",value:function(){function t(t){return e.apply(this,arguments)}var e=oa(rr.mark(function t(e){var n,r,i,o,a=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],r=void 0,i=void 0,o=new Qc(function(t,o){i=o,r=function(r){r.split(/\r?\n/g).filter(function(t){return!!t.length}).forEach(function(r){if(n.push(r),e(r))return t()})},a.proc.stdout.on("data",r),a.proc.once("error",o),a.proc.once("close",o)}),t.next=6,o;case 6:return this.proc.stdout.removeListener("data",r),this.proc.removeListener("error",i),this.proc.removeListener("close",i),t.abrupt("return",n);case 10:case"end":return t.stop()}},t,this)}));return t}()},{key:"write",value:function(t){this.proc.stdin.write(""+t+r.EOL),lv("to engine:",t,r.EOL)}},{key:"chain",value:function(){return new Nu(this)}},{key:"init",value:function(){function t(){return n.apply(this,arguments)}var n=oa(rr.mark(function t(){var n,r,i,o,a=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.proc){t.next=2;break}throw new Error('cannot call "init()": already initialized');case 2:return this.proc=e.spawn(this.filePath),this.proc.stdout.setEncoding("utf8"),this.proc.stdout.on("data",_e),this.write("uci"),t.next=8,this.getBufferUntil(function(t){return"uciok"===t});case 8:return n=t.sent,r=n.reduce(de,{id:{},options:{}}),i=r.id,o=r.options,i&&(this.id=i),o&&Jn(o).forEach(function(t){a.options.set(t,o[t])}),t.abrupt("return",this);case 13:case"end":return t.stop()}},t,this)}));return t}()},{key:"quit",value:function(){function t(){return e.apply(this,arguments)}var e=oa(rr.mark(function t(){var e=this;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.proc){t.next=2;break}throw new Error('cannot call "quit()": engine process not running');case 2:return t.next=4,new Qc(function(t){e.proc.on("close",t),e.write("quit")});case 4:return this.proc.stdout.removeListener("data",_e),this.proc.removeAllListeners(),delete this.proc,t.abrupt("return",this);case 8:case"end":return t.stop()}},t,this)}));return t}()},{key:"isready",value:function(){function t(){return e.apply(this,arguments)}var e=oa(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.proc){t.next=2;break}throw new Error('cannot call "isready()": engine process not running');case 2:return this.write("isready"),t.next=5,this.getBufferUntil(function(t){return"readyok"===t});case 5:return t.abrupt("return",this);case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"sendCmd",value:function(){function t(t){return e.apply(this,arguments)}var e=oa(rr.mark(function t(e){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.proc){t.next=2;break}throw new Error('cannot call "'+e+'()": engine process not running');case 2:return uv("sendCmd",e),this.write(""+e),t.abrupt("return",this.isready());case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"setoption",value:function(){function t(t,n){return e.apply(this,arguments)}var e=oa(rr.mark(function t(e,n){var r;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="name "+e,n&&(r+=" value "+n),t.next=4,this.sendCmd("setoption "+r);case 4:return this.options.set(e,n),t.abrupt("return",this);case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"ucinewgame",value:function(){function t(){return e.apply(this,arguments)}var e=oa(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.sendCmd("ucinewgame"));case 1:case"end":return t.stop()}},t,this)}));return t}()},{key:"ponderhit",value:function(){function t(){return e.apply(this,arguments)}var e=oa(rr.mark(function t(){return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.sendCmd("ponderhit"));case 1:case"end":return t.stop()}},t,this)}));return t}()},{key:"position",value:function(){function t(t,n){return e.apply(this,arguments)}var e=oa(rr.mark(function t(e,n){var r,i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=void 0,r="startpos"===e?"startpos":"fen "+e,n&&n.length&&(i=n.join(" "),r+=" moves "+i),t.abrupt("return",this.sendCmd("position "+r));case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"go",value:function(){function t(t){return e.apply(this,arguments)}var e=oa(rr.mark(function t(e){var n,r,i;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.proc){t.next=2;break}throw new Error('cannot call "go()": engine process not running');case 2:if(!e.infinite){t.next=4;break}throw new Error("go() does not support infinite search, use goInfinite()");case 4:return n=J(e),this.write(n),t.next=8,this.getBufferUntil(function(t){return Jp.bestmove.test(t)});case 8:return r=t.sent,i=r.reduce(Ht,{bestmove:null,info:[]}),t.abrupt("return",i);case 11:case"end":return t.stop()}},t,this)}));return t}()},{key:"goInfinite",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.proc)throw new Error('cannot call "goInfinite()": engine process not running');this.emitter=new i.EventEmitter;var n=function(e){e.split(/\r?\n/g).filter(function(t){return!!t.length}).forEach(function(e){var n=pe(e);if(n)return t.emitter.emit("data",n);var r=zt(e);return r?t.emitter.emit("data",r):void 0})};e.infinite=!0;var r=J(e);return this.proc.stdout.on("data",n),this.emitter.on("stop",function(){t.proc.stdout.removeListener("data",n)}),this.write(r),this.emitter}},{key:"stop",value:function(){function t(){return e.apply(this,arguments)}var e=oa(rr.mark(function t(){var e,n;return rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.emitter){t.next=2;break}throw new Error('cannot call "stop()": goInfinite() is not in progress');case 2:return this.write("stop"),this.emitter.emit("stop"),t.next=6,this.getBufferUntil(function(t){return Jp.bestmove.test(t)});case 6:return e=t.sent,n=e.reduce(Ht,{bestmove:null,info:[]}),t.abrupt("return",n);case 9:case"end":return t.stop()}},t,this)}));return t}()}]),t}();t.Engine=fv,t.EngineChain=Nu,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
